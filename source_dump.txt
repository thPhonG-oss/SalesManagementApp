# ==================================================
# Path: C:\Users\ADMIN-PRO\source\repos\SalesManagementApp
# Detected tech: csharp, java
# ==================================================

## DIRECTORY STRUCTURE
```
SalesManagementApp/
‚îú‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ .idea/
‚îú‚îÄ‚îÄ BE/
‚îÇ   ‚îú‚îÄ‚îÄ .idea/
‚îÇ   ‚îî‚îÄ‚îÄ sales-management/
‚îÇ       ‚îú‚îÄ‚îÄ .mvn/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ wrapper/
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ maven-wrapper.properties
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ project/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ sales_management/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ configuration/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ApplicationInitConfig.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CloudinaryConfig.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ JwtAuthenticationEntryPoint.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ JwtAuthenticationFilter.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ JwtUtils.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ SecurityConfig.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ SwaggerConfig.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ controllers/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ AuthController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CategoryController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CustomerController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ DashboardController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderServiceController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ PromotionController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ReportController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ UploadController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ UserController.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ dtos/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ requests/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomerRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomerUpdateRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemUpdateRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderStatusUpdateRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderUpdateRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductCreationRequestDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductImageUpdateRequestDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductImportDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductUpdateRequestDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromotionCreationRequestDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromotionUpdateRequestDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RegisterRequest.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ responses/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ApiResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ AuthResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ CategoryResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ CustomerResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ DailyProductSalesResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ DailyRevenueResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ DashboardResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ImportError.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ListProductResponseDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ListPromotionResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ MonthlyProductSalesResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ MonthlyRevenueResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ OrderItemResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ OrderResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ProductImageResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ProductImportResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ProductResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ProductSalesResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ PromotionResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ ReportResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ UserReponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ UserResponseDTO.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ WeeklyProductSalesResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ WeeklyRevenueResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îú‚îÄ‚îÄ YearlyProductSalesResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ       ‚îî‚îÄ‚îÄ YearlyRevenueResponse.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ exception/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ AppException.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ErrorCode.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ GlobalHandleException.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ helpers/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ ExcelHelpers.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ mappers/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CategoryMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CustomerMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductImageMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ PromotionMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ UserMapper.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ models/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ Category.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ Customer.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ DiscountType.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ Order.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderItem.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderStatus.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ PaymentMethod.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ Product.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductImage.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ Promotion.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ RefreshToken.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ User.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ repositories/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CategoryRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CustomerRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductImageRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ PromotionRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ RefreshTokenRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ UserRepository.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ services/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ Impl/
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CloudinaryService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomUserDetailsServices.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomerServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductImageServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromotionServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReportServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserServiceImpl.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CategoryService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ CustomerService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ DashboardService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderItemService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ OrderService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductImageService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ProductService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ PromotionService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ReportService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ UserService.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ SalesManagementBackendApplication.java
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ db/
‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application-dev.yaml
‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application-docker.yaml
‚îÇ       ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ application-prod.yaml
‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.yaml
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ java/
‚îÇ       ‚îÇ           ‚îî‚îÄ‚îÄ com/
‚îÇ       ‚îÇ               ‚îî‚îÄ‚îÄ project/
‚îÇ       ‚îÇ                   ‚îî‚îÄ‚îÄ sales_management/
‚îÇ       ‚îÇ                       ‚îî‚îÄ‚îÄ SalesManagementBackendApplicationTests.java
‚îÇ       ‚îú‚îÄ‚îÄ target/
‚îÇ       ‚îú‚îÄ‚îÄ .gitattributes
‚îÇ       ‚îú‚îÄ‚îÄ .gitignore
‚îÇ       ‚îú‚îÄ‚îÄ README.md
‚îÇ       ‚îú‚îÄ‚îÄ mvnw
‚îÇ       ‚îú‚îÄ‚îÄ mvnw.cmd
‚îÇ       ‚îú‚îÄ‚îÄ pom.xml
‚îÇ       ‚îî‚îÄ‚îÄ run_app.bat
‚îî‚îÄ‚îÄ FE/
    ‚îî‚îÄ‚îÄ SalesManagement.WinUI/
        ‚îú‚îÄ‚îÄ .vs/
        ‚îú‚îÄ‚îÄ Assets/
        ‚îÇ   ‚îú‚îÄ‚îÄ LockScreenLogo.scale-200.png
        ‚îÇ   ‚îú‚îÄ‚îÄ SplashScreen.scale-200.png
        ‚îÇ   ‚îú‚îÄ‚îÄ Square150x150Logo.scale-200.png
        ‚îÇ   ‚îú‚îÄ‚îÄ Square44x44Logo.scale-200.png
        ‚îÇ   ‚îú‚îÄ‚îÄ Square44x44Logo.targetsize-24_altform-unplated.png
        ‚îÇ   ‚îî‚îÄ‚îÄ Wide310x150Logo.scale-200.png
        ‚îú‚îÄ‚îÄ Converters/
        ‚îÇ   ‚îú‚îÄ‚îÄ BooleanConverters.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ NegatedBoolToVisibilityConverter.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ StringNotEmptyToVisibilityConverter.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ ValueConverters.cs
        ‚îú‚îÄ‚îÄ Helpers/
        ‚îÇ   ‚îú‚îÄ‚îÄ ApiClient.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ RelayCommand.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ StorageHelper.cs
        ‚îú‚îÄ‚îÄ Models/
        ‚îÇ   ‚îú‚îÄ‚îÄ ApiResponse.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ AppSetting.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ Category.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ChartItem.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ CreateProductRequest.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ DashboardResponse.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ImageRequest.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ LoginRequest.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ NavigationViewItem.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ Order.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ OrderRequest.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ OrderResponse.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ Product.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ProductImage.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ProductListData.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ PromotionRequest.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ PromotionResponse.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportDailyProductSale.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportProductDaily.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportProductMonth.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportProductSales.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportProductWeekly.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportProductYear.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportRevenueCurrentYear.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportRevenueDaily.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportRevenueMonth.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportRevenueWeekly.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportRevenueYear.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportTopProduct.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ StoredCredentials.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ UserResponse.cs
        ‚îú‚îÄ‚îÄ Properties/
        ‚îÇ   ‚îî‚îÄ‚îÄ launchSettings.json
        ‚îú‚îÄ‚îÄ Services/
        ‚îÇ   ‚îú‚îÄ‚îÄ Implementations/
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApiService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DialogService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoadingService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MockPromotionService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NavigationService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PromotionService.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReportService.cs
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageService.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ Interfaces/
        ‚îÇ       ‚îú‚îÄ‚îÄ IApiService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ IAuthService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ ICategoryService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ IDialogService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ ILoadingService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ INavigationService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ IOrderService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ IProductService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ IPromotionService.cs
        ‚îÇ       ‚îú‚îÄ‚îÄ IReportService.cs
        ‚îÇ       ‚îî‚îÄ‚îÄ IStorageService.cs
        ‚îú‚îÄ‚îÄ ViewModels/
        ‚îÇ   ‚îú‚îÄ‚îÄ AddProductViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ BaseViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ CreateOrderViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ DashboardViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ LoginViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ MainViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ OrderViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ProductViewModel.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportViewModel.cs
        ‚îÇ   ‚îî‚îÄ‚îÄ SettingsViewModel.cs
        ‚îú‚îÄ‚îÄ Views/
        ‚îÇ   ‚îú‚îÄ‚îÄ Components/
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateOrderDialog.xaml
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateOrderDialog.xaml.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoadingDialog.xaml
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoadingDialog.xaml.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderDetailDialog.xaml
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderDetailDialog.xaml.cs
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OrderEditDialog.xaml
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrderEditDialog.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ AddProductPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ AddProductPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ CustomerPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ CustomerPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ DetailItemPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ DetailItemPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ MainPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ MainPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ OrderPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ OrderPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ProductPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ ProductPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ ReportPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ RevenueChart.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ RevenueChart.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ SettingsPage.xaml
        ‚îÇ   ‚îú‚îÄ‚îÄ SettingsPage.xaml.cs
        ‚îÇ   ‚îú‚îÄ‚îÄ UpdateProductPage.xaml
        ‚îÇ   ‚îî‚îÄ‚îÄ UpdateProductPage.xaml.cs
        ‚îú‚îÄ‚îÄ bin/
        ‚îú‚îÄ‚îÄ obj/
        ‚îú‚îÄ‚îÄ .gitignore
        ‚îú‚îÄ‚îÄ App.xaml
        ‚îú‚îÄ‚îÄ App.xaml.cs
        ‚îú‚îÄ‚îÄ GlobalUsing.cs
        ‚îú‚îÄ‚îÄ MainWindow.xaml
        ‚îú‚îÄ‚îÄ MainWindow.xaml.cs
        ‚îú‚îÄ‚îÄ Package.appxmanifest
        ‚îú‚îÄ‚îÄ SalesManagement.WinUI.csproj
        ‚îú‚îÄ‚îÄ SalesManagement.WinUI.csproj.user
        ‚îú‚îÄ‚îÄ SalesManagement.WinUI.slnx
        ‚îú‚îÄ‚îÄ app.manifest
        ‚îî‚îÄ‚îÄ appsettings.json
```

## FILE CONTENTS

### FE\SalesManagement.WinUI\App.xaml.cs
```cs
Ôªøusing Microsoft.Extensions.Configuration;
using Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml;
using SalesManagement.WinUI.Services;
using SalesManagement.WinUI.Services.Implementations;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;
using SalesManagement.WinUI.Views;

using System.Net.Http;

namespace SalesManagement.WinUI;

public partial class App : Application
{
    private static Window? s_mainWindow;
    private static IServiceProvider? s_serviceProvider;

    public static IServiceProvider Services => s_serviceProvider!;
    public static Window MainWindow => s_mainWindow!;

    public App()
    {
        InitializeComponent();
        s_serviceProvider = ConfigureServices();
    }

    private static IServiceProvider ConfigureServices()
    {
        var services = new ServiceCollection();

        // Configuration
        var configuration = new ConfigurationBuilder()
            .AddJsonFile("appsettings.json", optional: false, reloadOnChange: true)
            .Build();
        services.AddSingleton<IConfiguration>(configuration);

        // HttpClient with cookie support
        services.AddHttpClient("API", (serviceProvider, client) =>
        {
            var config = serviceProvider.GetRequiredService<IConfiguration>();
            var baseUrl = config["ApiSettings:BaseUrl"] ?? "http://localhost:8081";

            client.BaseAddress = new Uri(baseUrl);
            client.Timeout = TimeSpan.FromSeconds(30);
        })



        .ConfigurePrimaryHttpMessageHandler(() => new HttpClientHandler
        {
            UseCookies = true,
            CookieContainer = new System.Net.CookieContainer()
        });

        // ================= SERVICES =================
        services.AddSingleton<IAuthService, AuthService>();
        services.AddSingleton<IStorageService, StorageService>();
        services.AddSingleton<INavigationService, NavigationService>();
        services.AddSingleton<ILoadingService, LoadingService>();
        services.AddSingleton<IOrderService, OrderService>();
        services.AddSingleton<IDialogService, DialogService>();
        services.AddSingleton<IReportService, ReportService>();
        services.AddTransient<IPromotionService, PromotionService>();

        
        

        services.AddTransient<IApiService>(sp =>
    new ApiService(
        sp.GetRequiredService<IHttpClientFactory>(),
        sp.GetRequiredService<IAuthService>()
    )
);

        // ‚≠ê CATEGORY
        services.AddSingleton<ICategoryService, CategoryService>();

        // ================= VIEWMODELS =================
        services.AddTransient<LoginViewModel>();
        services.AddTransient<MainViewModel>();
        services.AddTransient<OrderViewModel>();
        services.AddSingleton<DashboardViewModel>();
       
       


        services.AddTransient<ReportViewModel>();
        services.AddSingleton<CreateOrderViewModel>();

        services.AddTransient<ProductViewModel>();
        // ‚≠ê PRODUCT
        services.AddSingleton<IProductService, ProductService>();
        services.AddTransient<ProductViewModel>();

        

        // ‚≠ê TH√äM M·ªöI - Settings
        services.AddTransient<SettingsViewModel>();

        // ================= VIEWS =================
        services.AddTransient<LoginPage>();
        services.AddTransient<MainPage>();
        services.AddTransient<DashboardPage>();
        services.AddTransient<CustomerPage>();


        // ‚≠ê PRODUCT PAGE
        services.AddTransient<ProductPage>();

        services.AddTransient<AddProductPage>();

        services.AddTransient<AddProductViewModel>();


        // ‚≠ê TH√äM D√íNG N√ÄY
        services.AddTransient<SettingsPage>();

        return services.BuildServiceProvider();
    }

    protected override void OnLaunched(LaunchActivatedEventArgs args)
    {
        s_mainWindow = new MainWindow();

        var rootFrame = new Microsoft.UI.Xaml.Controls.Frame();

        s_mainWindow.Content = rootFrame;
        s_mainWindow.Activate();

        // G√°n Frame cho NavigationService
        var navService = Services.GetRequiredService<INavigationService>();
        navService.SetFrame(rootFrame);

        // M·ªü trang Login
        navService.NavigateTo(typeof(LoginPage));
    }

}   

// Extension method to get services easily
public static class ServiceProviderExtensions
{
    public static T? GetService<T>(this IServiceProvider provider) where T : class
    {
        return provider.GetService(typeof(T)) as T;
    }
}
```

### FE\SalesManagement.WinUI\GlobalUsing.cs
```cs
Ôªøglobal using System;
global using System.Collections.Generic;
global using System.Linq;
global using System.Threading.Tasks;
```

### FE\SalesManagement.WinUI\MainWindow.xaml.cs
```cs
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Runtime.InteropServices.WindowsRuntime;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Controls.Primitives;
using Microsoft.UI.Xaml.Data;
using Microsoft.UI.Xaml.Input;
using Microsoft.UI.Xaml.Media;
using Microsoft.UI.Xaml.Navigation;
using Windows.Foundation;
using Windows.Foundation.Collections;

// To learn more about WinUI, the WinUI project structure,
// and more about our project templates, see: http://aka.ms/winui-project-info.

namespace SalesManagement.WinUI
{
    /// <summary>
    /// An empty window that can be used on its own or navigated to within a Frame.
    /// </summary>
    public sealed partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }
    }
}

```

### FE\SalesManagement.WinUI\Converters\BooleanConverters.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Data;

namespace SalesManagement.WinUI.Converters;

public class BooleanConverters : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, string language)
    {
        bool isVisible = value is bool boolValue && boolValue;
        bool isInverse = parameter?.ToString()?.ToLower() == "inverse";

        if (isInverse)
        {
            isVisible = !isVisible;
        }

        return isVisible ? Visibility.Visible : Visibility.Collapsed;
    }

    public object ConvertBack(object value, Type targetType, object parameter, string language)
    {
        throw new NotImplementedException();
    }
}

public class BoolNegationConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, string language)
    {
        return !(value is bool boolValue && boolValue);
    }

    public object ConvertBack(object value, Type targetType, object parameter, string language)
    {
        return !(value is bool boolValue && boolValue);
    }
}
```

### FE\SalesManagement.WinUI\Converters\NegatedBoolToVisibilityConverter.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Data;
using System;

namespace SalesManagement.WinUI.Converters
{
    public class NegatedBoolToVisibilityConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, string language)
        {
            if (value is bool boolValue)
            {
                return !boolValue ? Visibility.Visible : Visibility.Collapsed;
            }
            return Visibility.Collapsed;
        }

        public object ConvertBack(object value, Type targetType, object parameter, string language)
        {
            if (value is Visibility visibility)
            {
                return visibility == Visibility.Visible;
            }
            return false;
        }
    }

    public class BoolToVisibilityConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, string language)
        {
            if (value is bool boolValue)
            {
                return boolValue ? Visibility.Visible : Visibility.Collapsed;
            }
            return Visibility.Collapsed;
        }

        public object ConvertBack(object value, Type targetType, object parameter, string language)
        {
            if (value is Visibility visibility)
            {
                return visibility == Visibility.Visible;
            }
            return false;
        }
    }
}
```

### FE\SalesManagement.WinUI\Converters\StringNotEmptyToVisibilityConverter.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Data;

namespace SalesManagement.WinUI.Converters
{
    public class StringNotEmptyToVisibilityConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, string language)
        {
            return string.IsNullOrWhiteSpace(value?.ToString())
                ? Visibility.Collapsed
                : Visibility.Visible;
        }

        public object ConvertBack(object value, Type targetType, object parameter, string language)
        {
            throw new NotImplementedException();
        }
    }
}

```

### FE\SalesManagement.WinUI\Converters\ValueConverters.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Data;

namespace SalesManagement.WinUI.Converters
{
    // Converter ƒë·ªÉ hi·ªÉn th·ªã ti·ªÅn t·ªá
    public class CurrencyConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, string language)
        {
            if (value is decimal decimalValue)
            {
                return decimalValue.ToString("N0") + " ƒë";
            }
            return "0 ƒë";
        }

        public object ConvertBack(object value, Type targetType, object parameter, string language)
        {
            throw new NotImplementedException();
        }
    }

    // Converter ƒë·ªÉ hi·ªÉn th·ªã ng√†y
    public class DateConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, string language)
        {
            if (value is DateTime dateTime)
            {
                return dateTime.ToString("dd/MM/yyyy");
            }
            return string.Empty;
        }

        public object ConvertBack(object value, Type targetType, object parameter, string language)
        {
            throw new NotImplementedException();
        }
    }

    // Converter ƒë·ªÉ check null v√† hi·ªÉn th·ªã visibility
    public class NullToVisibilityConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, string language)
        {
            return value != null ? Visibility.Visible : Visibility.Collapsed;
        }

        public object ConvertBack(object value, Type targetType, object parameter, string language)
        {
            throw new NotImplementedException();
        }
    }
}
```

### FE\SalesManagement.WinUI\Helpers\ApiClient.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Helpers
{
    internal class ApiClient
    {
    }
}

```

### FE\SalesManagement.WinUI\Helpers\RelayCommand.cs
```cs
Ôªøusing System.Windows.Input;

namespace SalesManagement.WinUI.Helpers
{
    public class RelayCommand : ICommand
    {
        private readonly Action _execute;
        private readonly Func<bool>? _canExecute;

        public event EventHandler? CanExecuteChanged;

        public RelayCommand(Action execute, Func<bool>? canExecute = null)
        {
            _execute = execute ?? throw new ArgumentNullException(nameof(execute));
            _canExecute = canExecute;
        }

        public bool CanExecute(object? parameter)
            => _canExecute?.Invoke() ?? true;

        public void Execute(object? parameter)
            => _execute();

        // üî• D√ôNG CHO ENABLE / DISABLE BUTTON
        public void RaiseCanExecuteChanged()
            => CanExecuteChanged?.Invoke(this, EventArgs.Empty);
    }
}

```

### FE\SalesManagement.WinUI\Helpers\StorageHelper.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Helpers
{
    internal class StorageHelper
    {
    }
}

```

### FE\SalesManagement.WinUI\Models\ApiResponse.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Models
{
    public class ApiResponse<T>
    {
        public bool Success { get; set; } = true;
        public string? Message { get; set; }
        public T? Data { get; set; }
        public object? ErrorsDetails { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\AppSetting.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

// FE/SalesManagement.WinUI/Models/AppSettings.cs
namespace SalesManagement.WinUI.Models
{
    public class AppSettings
    {
        /// <summary>
        /// S·ªë l∆∞·ª£ng item m·ªói trang (5/10/15/20)
        /// </summary>
        public int ItemsPerPage { get; set; } = 20;

        /// <summary>
        /// C√≥ l∆∞u m√†n h√¨nh cu·ªëi c√πng kh√¥ng
        /// </summary>
        public bool RememberLastScreen { get; set; } = true;

        /// <summary>
        /// T√™n m√†n h√¨nh cu·ªëi c√πng ƒë∆∞·ª£c m·ªü
        /// </summary>
        public string? LastOpenedScreen { get; set; }

        /// <summary>
        /// Theme c·ªßa app (Light/Dark)
        /// </summary>
        public string Theme { get; set; } = "Light";

        /// <summary>
        /// Ng√¥n ng·ªØ hi·ªÉn th·ªã
        /// </summary>
        public string Language { get; set; } = "vi-VN";
    }
}

```

### FE\SalesManagement.WinUI\Models\Category.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class Category
    {
        public int CategoryId { get; set; }
        public string CategoryName { get; set; } = string.Empty;
        public string Description { get; set; } = string.Empty;
        public bool IsActive { get; set; }

    }
}

```

### FE\SalesManagement.WinUI\Models\ChartItem.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ChartItem
    {
        public string Label { get; set; }   // V√≠ d·ª•: "January", "2024"
        public double Value { get; set; }   // V√≠ d·ª•: Revenue
    }

}

```

### FE\SalesManagement.WinUI\Models\CreateProductRequest.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class CreateProductRequest
    {
        public int CategoryId { get; set; }
        public string ProductName { get; set; } = "";
        public string Description { get; set; } = "";
        public string Author { get; set; } = "";
        public string Publisher { get; set; } = "";
        public int PublicationYear { get; set; }
        public decimal Price { get; set; }
        public int StockQuantity { get; set; }
        public int MinStockQuantity { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\DashboardResponse.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Text.Json.Serialization;
using SalesManagement.WinUI.Models;


namespace SalesManagement.WinUI.Models
{
    public class DashboardResponse
    {
        [JsonPropertyName("totalProducts")]
        public long TotalProducts { get; set; }

        [JsonPropertyName("lowStockProducts")]
        public List<ProductResponse> LowStockProducts { get; set; } = new();

        [JsonPropertyName("topSellingProducts")]
        public List<ProductResponse> TopSellingProducts { get; set; } = new();

        [JsonPropertyName("todayOrderCount")]
        public long TodayOrderCount { get; set; }

        [JsonPropertyName("todayRevenue")]
        public double TodayRevenue { get; set; }

        [JsonPropertyName("recentOrders")]
        public List<OrderResponse> RecentOrders { get; set; } = new();

        [JsonPropertyName("dailyRevenue")]
        public List<DailyRevenueResponse> DailyRevenue { get; set; } = new();
    }

    public class ProductResponse
    {
        [JsonPropertyName("productId")]
        public long Id { get; set; }

        [JsonPropertyName("productName")]
        public string Name { get; set; }

        [JsonPropertyName("price")]
        public double Price { get; set; }

        [JsonPropertyName("stockQuantity")]
        public long Quantity { get; set; }

        [JsonPropertyName("category")]
        public CategoryResponse Category { get; set; }

        [JsonPropertyName("description")]
        public string Description { get; set; }

        [JsonPropertyName("author")]
        public string Author { get; set; }

        [JsonPropertyName("publisher")]
        public string Publisher { get; set; }

        [JsonPropertyName("publicationYear")]
        public int PublicationYear { get; set; }

        [JsonPropertyName("minStockQuantity")]
        public int MinStockQuantity { get; set; }

        [JsonPropertyName("soldQuantity")]
        public int SoldQuantity { get; set; }

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }

        [JsonPropertyName("discountPercentage")]
        public double DiscountPercentage { get; set; }

        [JsonPropertyName("isDiscounted")]
        public bool IsDiscounted { get; set; }
    }

    public class CategoryResponse
    {
        [JsonPropertyName("categoryId")]
        public long Id { get; set; }

        [JsonPropertyName("categoryName")]
        public string Name { get; set; }

        [JsonPropertyName("description")]
        public string Description { get; set; }

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }
    }

  



    public class OrderItemResponse
    {
        [JsonPropertyName("orderItemId")]
        public long Id { get; set; }

        [JsonPropertyName("product")]
        public ProductResponse Product { get; set; }

        [JsonPropertyName("quantity")]
        public int Quantity { get; set; }

        [JsonPropertyName("unitPrice")]
        public double UnitPrice { get; set; }

        [JsonPropertyName("totalPrice")]
        public double TotalPrice { get; set; }
    }

    public class DailyRevenueResponse
    {
        [JsonPropertyName("date")]
        public string Date { get; set; }

        [JsonPropertyName("revenue")]
        public double Revenue { get; set; }
    }
}
```

### FE\SalesManagement.WinUI\Models\ImageRequest.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ImageRequest
    {
        public string File { get; set; } = string.Empty;
    }
}

```

### FE\SalesManagement.WinUI\Models\LoginRequest.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.Json.Serialization;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Models
{
    public class LoginRequest
    {
        [JsonPropertyName("username")]
        public string Username { get; set; } = string.Empty;
        [JsonPropertyName("password")]
        public string Password { get; set; } = string.Empty;
    }
}

```

### FE\SalesManagement.WinUI\Models\NavigationViewItem.cs
```cs
Ôªøusing Microsoft.UI.Xaml.Controls;

namespace SalesManagement.WinUI.Models;

public class AppMenuItem
{

    public string Title { get; set; } = string.Empty;
    public Symbol Icon { get; set; }
    public Type? PageType { get; set; }
    public string Tag { get; set; } = string.Empty;

    public bool ShowHeader { get; set; } = true;
}
```

### FE\SalesManagement.WinUI\Models\Order.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Models
{
    // Status enum


    public class OrderDetail
    {
        public string ProductName { get; set; } = string.Empty; 
        public int Quantity { get; set; }
        public decimal Price { get; set; }
    }

    public class Order
    {

        public long Id { get; set; }


        public string OrderCode { get; set; } = string.Empty;

        public DateTime Date { get; set; }
        public string Status { get; set; } = string.Empty;
        public int ItemsCount { get; set; }
        public decimal Amount { get; set; }
    }

   


}
```

### FE\SalesManagement.WinUI\Models\OrderRequest.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Text.Json.Serialization;

namespace SalesManagement.WinUI.Models
{
    public class CreateOrderRequest
    {
      
        [JsonPropertyName("email")]
        public string Email { get; set; } = string.Empty;

        [JsonPropertyName("promotionId")]
        public long? PromotionId { get; set; }

        [JsonPropertyName("notes")]
        public string Notes { get; set; } = string.Empty;

        [JsonPropertyName("shippingAddress")]
        public string ShippingAddress { get; set; } = string.Empty;

        [JsonPropertyName("paymentMethod")]
        public string PaymentMethod { get; set; } = "CASH_ON_DELIVERY";

        [JsonPropertyName("orderItems")]
        public List<CreateOrderItemRequest> OrderItems { get; set; } = new();
    }

    public class CreateOrderItemRequest
    {
        [JsonPropertyName("productId")]
        public long ProductId { get; set; }

        [JsonPropertyName("quantity")]
        public int Quantity { get; set; }

        [JsonPropertyName("unitPrice")]
        public decimal UnitPrice { get; set; }

        [JsonPropertyName("discount")]
        public decimal Discount { get; set; }

        [JsonPropertyName("totalPrice")]
        public decimal TotalPrice { get; set; }
    }

    public class UpdateOrderRequest
    {
        [JsonPropertyName("promotionId")]
        public long? PromotionId { get; set; }

        [JsonPropertyName("status")]
        public string Status { get; set; } = string.Empty;

        [JsonPropertyName("shippingAddress")]
        public string ShippingAddress { get; set; } = string.Empty;

        [JsonPropertyName("notes")]
        public string Notes { get; set; } = string.Empty;

        [JsonPropertyName("paymentMethod")]
        public string PaymentMethod { get; set; } = string.Empty;

        [JsonPropertyName("orderItems")]
        public List<UpdateOrderItemRequest> OrderItems { get; set; } = new();
    }

    public class UpdateOrderItemRequest
    {
        [JsonPropertyName("orderItemId")]
        public long OrderItemId { get; set; } // 0 for new items

        [JsonPropertyName("productId")]
        public long ProductId { get; set; }

        [JsonPropertyName("quantity")]
        public int Quantity { get; set; }

        [JsonPropertyName("unitPrice")]
        public decimal UnitPrice { get; set; }

        [JsonPropertyName("discount")]
        public decimal Discount { get; set; }

        [JsonPropertyName("totalPrice")]
        public decimal TotalPrice { get; set; }

        [JsonPropertyName("isDeleted")]
        public bool IsDeleted { get; set; }
    }
}
```

### FE\SalesManagement.WinUI\Models\OrderResponse.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Text.Json.Serialization;

namespace SalesManagement.WinUI.Models
{
    /// <summary>
    /// Class g·ªëc ph·∫£n h·ªìi th√¥ng tin chi ti·∫øt ƒë∆°n h√†ng
    /// </summary>
    public class OrderResponse
    {
        [JsonPropertyName("orderId")]
        public long OrderId { get; set; }

        [JsonPropertyName("orderCode")]
        public string OrderCode { get; set; } = string.Empty;

        [JsonPropertyName("orderDate")]
        public DateTime OrderDate { get; set; }

        [JsonPropertyName("status")]
        public string Status { get; set; } = string.Empty;

        [JsonPropertyName("subTotal")]
        public decimal SubTotal { get; set; }

        [JsonPropertyName("discountAmount")]
        public decimal DiscountAmount { get; set; }

        [JsonPropertyName("totalAmount")]
        public decimal TotalAmount { get; set; }

        [JsonPropertyName("notes")]
        public string Notes { get; set; } = string.Empty;

        [JsonPropertyName("shippingAddress")]
        public string ShippingAddress { get; set; } = string.Empty;

        [JsonPropertyName("paymentMethod")]
        public string PaymentMethod { get; set; } = string.Empty;

        [JsonPropertyName("createdAt")]
        public DateTime CreatedAt { get; set; }

        [JsonPropertyName("updatedAt")]
        public DateTime UpdatedAt { get; set; }

        // --- Nested Objects (ƒê√£ ƒë·ªïi t√™n type) ---

        [JsonPropertyName("customer")]
        public OrderCustomer Customer { get; set; } = new OrderCustomer();

        [JsonPropertyName("promotion")]
        public OrderPromotion Promotion { get; set; }  = new OrderPromotion();

        [JsonPropertyName("orderItems")]
        public List<OrderItem> OrderItems { get; set; } = new List<OrderItem>();
    }

    /// <summary>
    /// Th√¥ng tin kh√°ch h√†ng g·∫Øn li·ªÅn v·ªõi ƒë∆°n h√†ng n√†y
    /// </summary>
    public class OrderCustomer
    {
        [JsonPropertyName("customerId")]
        public long CustomerId { get; set; }

        [JsonPropertyName("customerName")]
        public string CustomerName { get; set; } = string.Empty;

        [JsonPropertyName("phone")]
        public string Phone { get; set; }  = string.Empty;

        [JsonPropertyName("email")]
        public string Email { get; set; }  = string.Empty;

        [JsonPropertyName("address")]
        public string Address { get; set; } = string.Empty;

        [JsonPropertyName("totalOrder")]
        public int TotalOrder { get; set; }

        [JsonPropertyName("totalSpent")]
        public decimal TotalSpent { get; set; }

        [JsonPropertyName("lastOrderDate")]
        public DateTime? LastOrderDate { get; set; }

        [JsonPropertyName("createdAt")]
        public DateTime CreatedAt { get; set; }

        [JsonPropertyName("updatedAt")]
        public DateTime UpdatedAt { get; set; }
    }

    /// <summary>
    /// Th√¥ng tin khuy·∫øn m√£i √°p d·ª•ng cho ƒë∆°n h√†ng
    /// </summary>
    public class OrderPromotion
    {
        [JsonPropertyName("promotionId")]
        public long PromotionId { get; set; }

        [JsonPropertyName("promotionCode")]
        public string PromotionCode { get; set; } = string.Empty;

        [JsonPropertyName("promotionName")]
        public string PromotionName { get; set; } = string.Empty;

        [JsonPropertyName("description")]
        public string Description { get; set; } = string.Empty;

        [JsonPropertyName("discountType")]
        public string DiscountType { get; set; } = string.Empty;

        [JsonPropertyName("discountPercentage")]
        public double DiscountPercentage { get; set; }

        [JsonPropertyName("discountValue")]
        public decimal DiscountValue { get; set; }

        [JsonPropertyName("minOrderAmount")]
        public decimal MinOrderAmount { get; set; }

        [JsonPropertyName("maxDiscountValue")]
        public decimal MaxDiscountValue { get; set; }

        [JsonPropertyName("startDate")]
        public DateTime StartDate { get; set; }

        [JsonPropertyName("endDate")]
        public DateTime EndDate { get; set; }

        [JsonPropertyName("usageLimit")]
        public int UsageLimit { get; set; }

        [JsonPropertyName("usedCount")]
        public int UsedCount { get; set; }

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }

        [JsonPropertyName("createdAt")]
        public DateTime CreatedAt { get; set; }

        [JsonPropertyName("updatedAt")]
        public DateTime UpdatedAt { get; set; }
    }

    /// <summary>
    /// Chi ti·∫øt t·ª´ng d√≤ng s·∫£n ph·∫©m trong ƒë∆°n h√†ng
    /// </summary>
    public class OrderItem
    {
        [JsonPropertyName("orderItemId")]
        public long OrderItemId { get; set; }

        [JsonPropertyName("quantity")]
        public int Quantity { get; set; }

        [JsonPropertyName("unitPrice")]
        public decimal UnitPrice { get; set; }

        [JsonPropertyName("discount")]
        public decimal Discount { get; set; }

        [JsonPropertyName("totalPrice")]
        public decimal TotalPrice { get; set; }

        // Tham chi·∫øu ƒë·∫øn OrderProduct thay v√¨ ProductModel chung
        [JsonPropertyName("product")]
        public OrderProduct Product { get; set; } = new OrderProduct();
    }

    /// <summary>
    /// S·∫£n ph·∫©m c·ª• th·ªÉ trong ng·ªØ c·∫£nh c·ªßa ƒë∆°n h√†ng
    /// </summary>
    public class OrderProduct
    {
        [JsonPropertyName("productId")]
        public long ProductId { get; set; }

        [JsonPropertyName("productName")]
        public string ProductName { get; set; } = string.Empty;

        [JsonPropertyName("description")]
        public string Description { get; set; } = string.Empty;

        [JsonPropertyName("author")]
        public string Author { get; set; } = string.Empty;

        [JsonPropertyName("publisher")]
        public string Publisher { get; set; } = string.Empty;

        [JsonPropertyName("publicationYear")]
        public int PublicationYear { get; set; }

        [JsonPropertyName("price")]
        public decimal Price { get; set; }

        [JsonPropertyName("stockQuantity")]
        public int StockQuantity { get; set; }

        [JsonPropertyName("minStockQuantity")]
        public int MinStockQuantity { get; set; }

        [JsonPropertyName("soldQuantity")]
        public int SoldQuantity { get; set; }

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }

        [JsonPropertyName("discountPercentage")]
        public double DiscountPercentage { get; set; }

        [JsonPropertyName("isDiscounted")]
        public bool IsDiscounted { get; set; }

        [JsonPropertyName("specialPrice")]
        public decimal SpecialPrice { get; set; }

        [JsonPropertyName("createdAt")]
        public DateTime CreatedAt { get; set; }

        [JsonPropertyName("updatedAt")]
        public DateTime UpdatedAt { get; set; }

        // Tham chi·∫øu ƒë·∫øn OrderCategory
        [JsonPropertyName("category")]
        public OrderCategory Category { get; set; } = new OrderCategory();

        // Tham chi·∫øu ƒë·∫øn OrderProductImage
        [JsonPropertyName("images")]
        public List<OrderProductImage> Images { get; set; } = new List<OrderProductImage>();
    }

    /// <summary>
    /// Danh m·ª•c s·∫£n ph·∫©m (trong view ƒë∆°n h√†ng)
    /// </summary>
    public class OrderCategory
    {
        [JsonPropertyName("categoryId")]
        public long CategoryId { get; set; }

        [JsonPropertyName("categoryName")]
        public string CategoryName { get; set; } = string.Empty;

        [JsonPropertyName("description")]
        public string Description { get; set; } = string.Empty;

        [JsonPropertyName("createdAt")]
        public DateTime CreatedAt { get; set; }

        [JsonPropertyName("updatedAt")]
        public DateTime UpdatedAt { get; set; }

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }
    }

    /// <summary>
    /// H√¨nh ·∫£nh s·∫£n ph·∫©m
    /// </summary>
    public class OrderProductImage
    {
        [JsonPropertyName("imageId")]
        public long ImageId { get; set; }

        [JsonPropertyName("imageUrl")]
        public string ImageUrl { get; set; } = string.Empty;
    }



    public class OrderApiResponse
    {
        [JsonPropertyName("content")]
        public List<OrderResponse> Content { get; set; } = new();

        [JsonPropertyName("totalElements")]
        public int TotalElements { get; set; }

        [JsonPropertyName("totalPages")]
        public int TotalPages { get; set; }

        [JsonPropertyName("size")]
        public int Size { get; set; }

        [JsonPropertyName("number")]
        public int PageNumber { get; set; }
    }

}
```

### FE\SalesManagement.WinUI\Models\Product.cs
```cs
Ôªøusing Microsoft.UI;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Media;
using System.ComponentModel;
using System.Runtime.CompilerServices;
using Windows.UI.Text;

namespace SalesManagement.WinUI.Models
{
    public class Product : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler? PropertyChanged;

        private void OnPropertyChanged([CallerMemberName] string name = "")
            => PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(name));

        private void NotifyDiscountUI()
        {
            OnPropertyChanged(nameof(DiscountVisibility));
            OnPropertyChanged(nameof(PriceDecorations));
            OnPropertyChanged(nameof(PriceColor));
            OnPropertyChanged(nameof(SpecialPriceText));
            OnPropertyChanged(nameof(DiscountText));
        }

        public int ProductId { get; set; }

        public string ProductName { get; set; } = string.Empty;
        public string? Description { get; set; }
        public string? Author { get; set; }
        public string? Publisher { get; set; }
        public int PublicationYear { get; set; }

        private decimal _price;
        public decimal Price
        {
            get => _price;
            set
            {
                _price = value;
                OnPropertyChanged();
                OnPropertyChanged(nameof(PriceText));
            }
        }

        private decimal? _specialPrice;
        public decimal? SpecialPrice
        {
            get => _specialPrice;
            set
            {
                _specialPrice = value;
                OnPropertyChanged();
                NotifyDiscountUI();
            }
        }

        public int StockQuantity { get; set; }
        public int MinStockQuantity { get; set; }
        public int SoldQuantity { get; set; }
        public bool IsActive { get; set; }

        private decimal _discountPercentage;
        public decimal DiscountPercentage
        {
            get => _discountPercentage;
            set
            {
                _discountPercentage = value;
                OnPropertyChanged();
                OnPropertyChanged(nameof(DiscountText));
            }
        }

        private bool _isDiscounted;
        public bool IsDiscounted
        {
            get => _isDiscounted;
            set
            {
                _isDiscounted = value;
                OnPropertyChanged();
                NotifyDiscountUI();
            }
        }

        public DateTime CreatedAt { get; set; }
        public DateTime UpdatedAt { get; set; }

        public Category Category { get; set; } = new();
        public List<ProductImage> Images { get; set; } = new();

        // ================= UI HELPER =================

        public string ImageUrl { get; set; } =
            "https://res.cloudinary.com/dznocieoi/image/upload/v1766487761/istockphoto-1396814518-612x612_upvria.jpg";

        public string StockText => $"{StockQuantity}";

        public string PriceText => Price.ToString("N0") + " ƒë";

        public string SpecialPriceText =>
            IsDiscounted && SpecialPrice.HasValue
                ? SpecialPrice.Value.ToString("N0") + " ƒë"
                : "";

        public Visibility DiscountVisibility =>
            IsDiscounted ? Visibility.Visible : Visibility.Collapsed;

        public TextDecorations PriceDecorations =>
            IsDiscounted ? TextDecorations.Strikethrough : TextDecorations.None;

        public Brush PriceColor =>
            IsDiscounted
                ? new SolidColorBrush(Windows.UI.Color.FromArgb(255, 150, 150, 150))
                : new SolidColorBrush(Colors.Black);

        public double PriceValue
        {
            get => (double)Price;
            set
            {
                Price = (decimal)value;
                OnPropertyChanged(nameof(Price));
                OnPropertyChanged();
            }
        }


        public string DiscountText => "-" + DiscountPercentage.ToString("0") + "%";
    }
}

```

### FE\SalesManagement.WinUI\Models\ProductImage.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ProductImage
    {
        public int ImageId { get; set; }
        public string ImageUrl { get; set; } = string.Empty;
    }
}

```

### FE\SalesManagement.WinUI\Models\ProductListData.cs
```cs
Ôªøusing System.Text.Json.Serialization;

namespace SalesManagement.WinUI.Models
{
    public class ProductListData
    {
        [JsonPropertyName("products")]
        public List<Product> Products { get; set; } = new();

        [JsonPropertyName("page")]
        public int Page { get; set; }

        [JsonPropertyName("size")]
        public int Size { get; set; }

        [JsonPropertyName("totalPages")]
        public int TotalPages { get; set; }

        [JsonPropertyName("totalElements")]
        public int TotalElements { get; set; }

        [JsonPropertyName("lastPage")]
        public bool LastPage { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\PromotionRequest.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.Json.Serialization;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Models
{
    public class PromotionRequest
    {

    }

    public class Promotion
    {
        [JsonPropertyName("promotionId")]
        public long PromotionId { get; set; }

        [JsonPropertyName("promotionCode")]
        public string PromotionCode { get; set; } = string.Empty;

        [JsonPropertyName("promotionName")]
        public string PromotionName { get; set; } = string.Empty;

        [JsonPropertyName("description")]
        public string Description { get; set; } = string.Empty;

        [JsonPropertyName("discountType")]
        public string DiscountType { get; set; } = "PERCENTAGE"; // "PERCENTAGE" ho·∫∑c "FIXED"

        [JsonPropertyName("discountPercentage")]
        public decimal DiscountPercentage { get; set; } // V√≠ d·ª•: 10 (l√† 10%) ho·∫∑c 0.1

        [JsonPropertyName("discountValue")]
        public decimal DiscountValue { get; set; } // S·ªë ti·ªÅn gi·∫£m c·ª• th·ªÉ

        [JsonPropertyName("minOrderAmount")]
        public decimal MinOrderAmount { get; set; }

        [JsonPropertyName("maxDiscountValue")]
        public decimal MaxDiscountValue { get; set; }

        [JsonPropertyName("startDate")]
        public string StartDate { get; set; } = string.Empty;

        [JsonPropertyName("endDate")]
        public string EndDate { get; set; } = string.Empty;

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }

        // Helper property ƒë·ªÉ hi·ªÉn th·ªã l√™n ComboBox ƒë·∫πp h∆°n
        [JsonIgnore]
        public string DisplayName => $"{PromotionCode} - {PromotionName}";
    }
}

```

### FE\SalesManagement.WinUI\Models\PromotionResponse.cs
```cs
Ôªøusing System;
using System.Text.Json.Serialization;

namespace SalesManagement.WinUI.Models
{
    public class PromotionResponse
    {
        [JsonPropertyName("promotionId")]
        public long PromotionId { get; set; }

        [JsonPropertyName("promotionCode")]
        public string PromotionCode { get; set; } = string.Empty;

        [JsonPropertyName("promotionName")]
        public string PromotionName { get; set; } = string.Empty;

        [JsonPropertyName("description")]
        public string Description { get; set; } = string.Empty;

        [JsonPropertyName("discountType")]
        public string DiscountType { get; set; } = string.Empty; 

        [JsonPropertyName("discountPercentage")]
        public double DiscountPercentage { get; set; }

        [JsonPropertyName("discountValue")]
        public decimal DiscountValue { get; set; }

        [JsonPropertyName("minOrderValue")]
        public decimal MinOrderAmount { get; set; }

        [JsonPropertyName("maxDiscountValue")]
        public decimal MaxDiscountValue { get; set; }

        [JsonPropertyName("startDate")]
        public DateTime StartDate { get; set; }

        [JsonPropertyName("endDate")]
        public DateTime EndDate { get; set; }

        [JsonPropertyName("usageLimit")]
        public int UsageLimit { get; set; }

        [JsonPropertyName("usedCount")]
        public int UsedCount { get; set; }

        [JsonPropertyName("isActive")]
        public bool IsActive { get; set; }

        [JsonPropertyName("createdAt")]
        public DateTime CreatedAt { get; set; }

        [JsonPropertyName("updatedAt")]
        public DateTime UpdatedAt { get; set; }
    }

    public class PromotionListData
    {
        // T√™n property ph·∫£i kh·ªõp v·ªõi JSON (case-insensitive)
        public List<PromotionResponse> Promotions { get; set; } = new List<PromotionResponse>();
        public int TotalElements { get; set; }
        public int TotalPages { get; set; }
    }

}
```

### FE\SalesManagement.WinUI\Models\ReportDailyProductSale.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportDailyProductSale
    {
        public DateTime Date { get; set; }
        public int ProductId { get; set; }
        public string ProductName { get; set; } = string.Empty;
        public int QuantitySold { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportProductDaily.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportProductDaily
    {
        public DateTime Date { get; set; }
        public int ProductId { get; set; }
        public string ProductName { get; set; } = string.Empty;
        public int QuantitySold { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportProductMonth.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportProductMonth
    {
        public int Year { get; set; }
        public int Month { get; set; }
        public string MonthName { get; set; } = string.Empty;
        public int ProductId { get; set; }
        public string ProductName { get; set; } = string.Empty;
        public int QuantitySold { get; set; }
        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportProductSales.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportProductSales
    {
        public int ProductId { get; set; }

        public string ProductName { get; set; } = string.Empty;

        public int QuantitySold { get; set; }

        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportProductWeekly.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportProductWeekly
    {
        public int Year { get; set; }

        public int Week { get; set; }

        public int ProductId { get; set; }

        public string ProductName { get; set; } = string.Empty;

        public int QuantitySold { get; set; }

        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportProductYear.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportProductYear
    {
        public int Year { get; set; }

        public int ProductId { get; set; }

        public string ProductName { get; set; } = string.Empty;

        public int QuantitySold { get; set; }

        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportRevenueCurrentYear.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportRevenueCurrentYear
    {
        public List<ReportRevenueDaily> DailyRevenue { get; set; } = new();
        public List<ReportRevenueWeekly> WeeklyRevenue { get; set; } = new();
        public List<ReportRevenueMonth> MonthlyRevenue { get; set; } = new();
        public List<ReportRevenueYear> YearlyRevenue { get; set; } = new();
        public List<ReportTopProduct> TopProducts { get; set; } = new();
        public List<ReportDailyProductSale> DailyProductSales { get; set; } = new();
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportRevenueDaily.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportRevenueDaily
    {
        public DateTime Date { get; set; }
        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportRevenueMonth.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportRevenueMonth
    {
        public int Year { get; set; }
        public int Month { get; set; }
        public string MonthName { get; set; } = string.Empty;
        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportRevenueWeekly.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportRevenueWeekly
    {
        public int Year { get; set; }
        public int WeekNumber { get; set; }

        public DateTime WeekStart { get; set; }
        public DateTime WeekEnd { get; set; }

        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportRevenueYear.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportRevenueYear
    {
        public int Year { get; set; }
        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\ReportTopProduct.cs
```cs
Ôªønamespace SalesManagement.WinUI.Models
{
    public class ReportTopProduct
    {
        public int ProductId { get; set; }
        public string ProductName { get; set; } = string.Empty;
        public int QuantitySold { get; set; }
        public decimal Revenue { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\StoredCredentials.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Models
{
    public class StoredCredentials
    {
        public string Username { get; set; } = string.Empty;
        public string EncryptedPassword { get; set; } = string.Empty;
        public bool RememberMe { get; set; }
        public DateTime LastLoginTime { get; set; }
    }
}

```

### FE\SalesManagement.WinUI\Models\UserResponse.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Models
{
    public class UserResponse
    {
        public long Id { get; set; }
        public string Username { get; set; } = string.Empty;
        public string AccessToken { get; set; } = string.Empty;
    }
}

```

### FE\SalesManagement.WinUI\Services\Implementations\ApiService.cs
```cs
Ôªøusing SalesManagement.WinUI.Services.Interfaces;
using System;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Net.Http.Json;
using System.Text.Json;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services
{
    public class ApiService : IApiService
    {
        private readonly IHttpClientFactory _httpClientFactory;
        private readonly JsonSerializerOptions _jsonOptions;
        private readonly IAuthService _authService;

        public ApiService(IHttpClientFactory httpClientFactory, IAuthService authService)
        {
            _httpClientFactory = httpClientFactory;
            _authService = authService;
            _jsonOptions = new JsonSerializerOptions
            {
                PropertyNameCaseInsensitive = true,
                PropertyNamingPolicy = JsonNamingPolicy.CamelCase
            };
        }

        public async Task<T> GetAsync<T>(string endpoint)
        {
            try
            {
                var client = _httpClientFactory.CreateClient("API");

                // Attach token BEFORE making the request
                var token = _authService.GetAccessToken();
                if (!string.IsNullOrEmpty(token))
                {
                    client.DefaultRequestHeaders.Authorization =
                        new AuthenticationHeaderValue("Bearer", token);
                }
                else
                {
                    System.Diagnostics.Debug.WriteLine($"‚ö†Ô∏è WARNING: No token available for request to {endpoint}");
                }

                System.Diagnostics.Debug.WriteLine($"üì° GET Request: {endpoint}");
                System.Diagnostics.Debug.WriteLine($"üîê Token Present: {!string.IsNullOrEmpty(token)}");

                var response = await client.GetAsync(endpoint);

                if (!response.IsSuccessStatusCode)
                {
                    var errorContent = await response.Content.ReadAsStringAsync();
                    System.Diagnostics.Debug.WriteLine($"‚ùå API Error ({response.StatusCode}): {errorContent}");
                    throw new HttpRequestException(
                        $"API returned {response.StatusCode}: {errorContent}");
                }

                var json = await response.Content.ReadAsStringAsync();
                System.Diagnostics.Debug.WriteLine($"‚úÖ Response received, deserializing...");

                return JsonSerializer.Deserialize<T>(json, _jsonOptions)!;
            }
            catch (HttpRequestException ex)
            {
                System.Diagnostics.Debug.WriteLine($"üî¥ HTTP Error: {ex.Message}");
                throw;
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"üî¥ General Error: {ex.GetType().Name} - {ex.Message}");
                throw;
            }
        }

        public async Task<T> PostAsync<T>(string endpoint, object data)
        {
            try
            {
                var client = _httpClientFactory.CreateClient("API");

                var token = _authService.GetAccessToken();
                if (!string.IsNullOrEmpty(token))
                {
                    client.DefaultRequestHeaders.Authorization =
                        new AuthenticationHeaderValue("Bearer", token);
                }

                var jsonContent = JsonSerializer.Serialize(data, _jsonOptions);
                var content = new StringContent(jsonContent,
                    System.Text.Encoding.UTF8, "application/json");

                System.Diagnostics.Debug.WriteLine($"üì° POST Request: {endpoint}");
                var response = await client.PostAsync(endpoint, content);

                response.EnsureSuccessStatusCode();
                var json = await response.Content.ReadAsStringAsync();
                return JsonSerializer.Deserialize<T>(json, _jsonOptions)!;
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"üî¥ POST Error: {ex.Message}");
                throw;
            }
        }
    }
}
```

### FE\SalesManagement.WinUI\Services\Implementations\AuthService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Net.Http.Json;

namespace SalesManagement.WinUI.Services.Implementations;

public class AuthService : IAuthService
{
    private readonly IHttpClientFactory _httpClientFactory;
    private UserResponse? _currentUser;
    private string? _accessToken;

    public AuthService(IHttpClientFactory httpClientFactory)
    {
        _httpClientFactory = httpClientFactory;
    }

    public async Task<(bool Success, string ErrorMessage, UserResponse? User)>
    LoginAsync(string username, string password)
    {
        try
        {
            var client = _httpClientFactory.CreateClient("API");

            // üî• BODY REQUEST ƒê√öNG CHU·∫®N
            var loginRequest = new LoginRequest
            {
                Username = username,
                Password = password
            };

            var response = await client.PostAsJsonAsync(
                "/api/v1/auth/login",
                loginRequest
            );

            Console.WriteLine($"Status: {(int)response.StatusCode} - {response.ReasonPhrase}");


            if (!response.IsSuccessStatusCode)
            {
                if (response.StatusCode == System.Net.HttpStatusCode.Unauthorized)
                    return (false, "Invalid username or password", null);

                return (false, $"Login failed: {response.StatusCode}", null);
            }

            var user = await response.Content.ReadFromJsonAsync<UserResponse>();
            if (user == null)
                return (false, "Invalid response from server", null);
            _currentUser = user;
            _accessToken = user.AccessToken;
            client.DefaultRequestHeaders.Authorization =
    new AuthenticationHeaderValue("Bearer", _accessToken);
            return (true, string.Empty, user);
        }
        catch (Exception ex)
        {
            return (false, ex.Message, null);
        }
    }


    public async Task<bool> ValidateTokenAsync(string token)
    {
        try
        {
            var client = _httpClientFactory.CreateClient("API");

            var request = new { token };
            var response = await client.PostAsJsonAsync("/api/v1/auth/authenticate", request);

            if (response.IsSuccessStatusCode)
            {
                var result = await response.Content.ReadFromJsonAsync<bool>();
                return result;
            }

            return false;
        }
        catch
        {
            return false;
        }
    }

    public async Task<(bool Success, UserResponse? User)> RefreshTokenAsync()
    {
        try
        {
            var client = _httpClientFactory.CreateClient("API");

            var response = await client.PostAsync("/api/v1/auth/refresh", null);

            if (response.IsSuccessStatusCode)
            {
                var user = await response.Content.ReadFromJsonAsync<UserResponse>();

                if (user != null)
                {
                    _currentUser = user;
                    _accessToken = user.AccessToken;
                    return (true, user);
                }
            }

            return (false, null);
        }
        catch
        {
            return (false, null);
        }
    }

    public async Task<bool> LogoutAsync()
    {
        try
        {
            var client = _httpClientFactory.CreateClient("API");

            if (!string.IsNullOrEmpty(_accessToken))
            {
                client.DefaultRequestHeaders.Authorization =
                    new AuthenticationHeaderValue("Bearer", _accessToken);
            }

            var response = await client.PostAsync("/api/v1/auth/logout", null);



            _currentUser = null;
            _accessToken = null;

            return response.IsSuccessStatusCode;
        }
        catch
        {
            _currentUser = null;
            _accessToken = null;
            return false;
        }
    }

    public UserResponse? GetCurrentUser()
    {
        return _currentUser;
    }

    public string? GetAccessToken()
    {
        return _accessToken;
    }

    public bool IsAuthenticated()
    {
        return _currentUser != null && !string.IsNullOrEmpty(_accessToken);
    }

}
```

### FE\SalesManagement.WinUI\Services\Implementations\CategoryService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Diagnostics;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Net.Http.Json;

namespace SalesManagement.WinUI.Services.Implementations
{
    public class CategoryService : ICategoryService
    {
        private readonly HttpClient _httpClient;
        private readonly IAuthService _authService;

        public CategoryService(
            IHttpClientFactory httpClientFactory,
            IAuthService authService)
        {
            _httpClient = httpClientFactory.CreateClient("API");
            _authService = authService;
        }

        public async Task<List<Category>> GetAllAsync()
        {
            try
            {
                var token = _authService.GetAccessToken();
                if (!string.IsNullOrEmpty(token))
                {
                    _httpClient.DefaultRequestHeaders.Authorization =
                        new AuthenticationHeaderValue("Bearer", token);
                }

                var response =
                    await _httpClient.GetFromJsonAsync<
                        ApiResponse<List<Category>>
                    >("/api/categories");

                //System.Diagnostics.Debug.WriteLine(response);


                if (response == null || !response.Success)
                    return new List<Category>();

                return response.Data ?? new List<Category>();
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"[CategoryService] Error: {ex.Message}");
                return new List<Category>();
            }
        }
    }

}

```

### FE\SalesManagement.WinUI\Services\Implementations\DialogService.cs
```cs
Ôªø// SalesManagement.WinUI/Services/DialogService.cs
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;
using SalesManagement.WinUI.Views;
using SalesManagement.WinUI.Views.Components; // N∆°i ch·ª©a OrderEditDialog
using System;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services
{
    public class DialogService : IDialogService
    {
        private XamlRoot? _xamlRoot;

        public void SetXamlRoot(XamlRoot xamlRoot)
        {
            _xamlRoot = xamlRoot;
        }

        public async Task<bool> ShowConfirmationAsync(string title, string message, string primaryText, string closeText)
        {
            if (_xamlRoot == null) return false;

            var dialog = new ContentDialog
            {
                XamlRoot = _xamlRoot,
                Title = title,
                Content = message,
                PrimaryButtonText = primaryText,
                CloseButtonText = closeText,
                DefaultButton = ContentDialogButton.Close,
                // D√πng Resource an to√†n h∆°n
                PrimaryButtonStyle = Application.Current.Resources["AccentButtonStyle"] as Style
            };

            var result = await dialog.ShowAsync();
            return result == ContentDialogResult.Primary;
        }

        public async Task<bool> ShowEditOrderDialogAsync(OrderItemViewModel orderVm)
        {
            if (_xamlRoot == null) return false;

            // T·∫°o Dialog t·ª´ Component ƒë√£ c√≥
            var dialog = new OrderEditDialog(orderVm);
            dialog.XamlRoot = _xamlRoot;

            var result = await dialog.ShowAsync();
            return result == ContentDialogResult.Primary;
        }

        public async Task ShowOrderDetailDialogAsync(OrderItemViewModel orderVm)
        {
            if (_xamlRoot == null) return;

            // Kh·ªüi t·∫°o Dialog chi ti·∫øt (Code c≈© c·ªßa b·∫°n chuy·ªÉn v√†o ƒë√¢y)
            var dialog = new OrderDetailDialog(orderVm);
            dialog.XamlRoot = _xamlRoot;

            // Ch·ªâ c·∫ßn Show, kh√¥ng c·∫ßn tr·∫£ v·ªÅ k·∫øt qu·∫£ v√¨ ch·ªâ l√† xem chi ti·∫øt
            await dialog.ShowAsync();
        }

        public async Task<bool> ShowCreateOrderDialogAsync(CreateOrderViewModel viewModel)
        {
            var dialog = new CreateOrderDialog();

            // G√°n Singleton ViewModel v√†o Dialog
            dialog.ViewModel = viewModel;

            // Thi·∫øt l·∫≠p XamlRoot (B·∫Øt bu·ªôc v·ªõi WinUI 3)
            dialog.XamlRoot = App.MainWindow.Content.XamlRoot;

            var result = await dialog.ShowAsync();
            return result == ContentDialogResult.Primary;
        }
    }
}
```

### FE\SalesManagement.WinUI\Services\Implementations\LoadingService.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.Views.Components;

public class LoadingService : ILoadingService
{
    private XamlRoot? _xamlRoot;
    private ContentDialog? _activeDialog;

    public void SetXamlRoot(XamlRoot root) => _xamlRoot = root;

   
    public Task ShowAsync(string message = "ƒêang t·∫£i...")
    {
        if (_xamlRoot == null) return Task.CompletedTask;
        if (_activeDialog != null) return Task.CompletedTask;

        _activeDialog = new LoadingDialog(message)
        {
            XamlRoot = _xamlRoot
        };


        _ = _activeDialog.ShowAsync();

        return Task.CompletedTask;
    }

    public void Hide()
    {
        if (_activeDialog != null)
        {
            _activeDialog.Hide();
            _activeDialog = null;
        }
    }
}
```

### FE\SalesManagement.WinUI\Services\Implementations\MockPromotionService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services.Implementations
{
    public class MockPromotionService : IPromotionService
    {
        public Task<List<Promotion>> GetActivePromotionsAsync()
        {
            // Mock d·ªØ li·ªáu theo c·∫•u tr√∫c JSON b·∫°n ƒë∆∞a
            var promotions = new List<Promotion>
            {
                // Item 1: M·∫∑c ƒë·ªãnh (Kh√¥ng √°p d·ª•ng)
                new Promotion
                {
                    PromotionId = 0,
                    PromotionCode = "NONE",
                    PromotionName = "Kh√¥ng √°p d·ª•ng",
                    DiscountType = "FIXED",
                    DiscountValue = 0
                },
                // Item 2: Gi·∫£m theo %
                new Promotion
                {
                    PromotionId = 1,
                    PromotionCode = "SALE10",
                    PromotionName = "Gi·∫£m 10% ƒë∆°n h√†ng",
                    DiscountType = "PERCENTAGE",
                    DiscountPercentage = 10, 
                    MaxDiscountValue = 100000,
                    MinOrderAmount = 200000
                },
                // Item 3: Gi·∫£m ti·ªÅn m·∫∑t
                new Promotion
                {
                    PromotionId = 2,
                    PromotionCode = "FREESHIP",
                    PromotionName = "Gi·∫£m 50k ph√≠ ship",
                    DiscountType = "FIXED",
                    DiscountValue = 50000,
                    MinOrderAmount = 0
                }
            };

            return Task.FromResult(promotions);
        }
    }
}

```

### FE\SalesManagement.WinUI\Services\Implementations\NavigationService.cs
```cs
Ôªøusing Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Media.Animation;

public class NavigationService : INavigationService
{
    private Frame? _frame;
    private NavigationView? _navView;

    public void SetFrame(Frame frame) => _frame = frame;
    public void SetNavView(NavigationView navView) => _navView = navView;

    public bool NavigateTo(Type pageType)
    {
        if (_frame != null && _frame.CurrentSourcePageType != pageType)
        {
            return _frame.Navigate(pageType, null, new SlideNavigationTransitionInfo { Effect = SlideNavigationTransitionEffect.FromRight });
        }
        return false;
    }

    public bool NavigateTo(Type pageType, object? parameter)
    {
        return _frame?.Navigate(pageType, parameter) ?? false;
    }

    public void SetHeader(string? header)
    {

        if (_navView != null)
        {
            _navView.Header = header;
        }
    }

    public void GoBack()
    {
        if (_frame?.CanGoBack == true)
        {
            _frame.GoBack(new SlideNavigationTransitionInfo
            {
                Effect = SlideNavigationTransitionEffect.FromLeft
            });
        }
    }

}
```

### FE\SalesManagement.WinUI\Services\Implementations\OrderService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Collections.Generic;
using System.Diagnostics;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Net.Http.Json;
using System.Text.Json;
using System.Threading.Tasks;
using Windows.Storage;

namespace SalesManagement.WinUI.Services.Implementations
{
    public class OrderService : IOrderService
    {

        private readonly HttpClient _client;
        private readonly IAuthService _authService;

        private readonly JsonSerializerOptions _jsonOptions;

        public OrderService(IHttpClientFactory httpClientFactory, IAuthService authService)
        {
            _client = httpClientFactory.CreateClient("API");
            _authService = authService;

            _jsonOptions = new JsonSerializerOptions { PropertyNameCaseInsensitive = true };
        }

        // C·∫≠p nh·∫≠t h√†m n√†y ƒë·ªÉ x·ª≠ l√Ω Filter v√† Pagination
        public async Task<(List<Order> Items, int TotalCount, decimal TotalRevenue, int PendingCount)> GetOrdersAsync(
            int pageIndex, int pageSize, string status = null, DateTime? fromDate = null, DateTime? toDate = null)
        {
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            // API d√πng page index b·∫Øt ƒë·∫ßu t·ª´ 0, UI d√πng t·ª´ 1 -> tr·ª´ ƒëi 1
            var apiPage = pageIndex > 0 ? pageIndex - 1 : 0;
            var url = $"/api/v1/orders?pageNumber={apiPage}&pageSize={pageSize}";

            if (!string.IsNullOrEmpty(status) && status != "T·∫•t c·∫£")
            {
                url += $"&status={MapStatusToApi(status)}";
            }
            if (fromDate.HasValue) url += $"&fromDate={fromDate.Value:yyyy-MM-dd}";
            if (toDate.HasValue) url += $"&toDate={toDate.Value:yyyy-MM-dd}";

            Debug.WriteLine($"{url}");

            try
            {
                var response = await _client.GetAsync(url);
                if (!response.IsSuccessStatusCode)
                {
                    Debug.WriteLine($"[API Error] {response.StatusCode}");
                    return (new List<Order>(), 0, 0, 0);
                }

                var jsonString = await response.Content.ReadAsStringAsync();

                // üî• THAY ƒê·ªîI ·ªû ƒê√ÇY: D√πng class c·ª• th·ªÉ OrderApiResponse
                var apiResponse = JsonSerializer.Deserialize<OrderApiResponse>(jsonString, _jsonOptions);

                if (apiResponse == null || apiResponse.Content == null)
                    return (new List<Order>(), 0, 0, 0);

                // Mapping d·ªØ li·ªáu API sang UI Model
                var uiOrders = apiResponse.Content.Select(o => new Order
                {
                    Id = o.OrderId,                 // ID th·∫≠t (long)
                    OrderCode = o.OrderCode,        // M√£ hi·ªÉn th·ªã (string)
                    Date = o.OrderDate,
                    Status = MapStatusToUI(o.Status),
                    ItemsCount = o.OrderItems?.Count ?? 0,
                    Amount = o.TotalAmount
                }).ToList();

                // T√≠nh to√°n s∆° b·ªô (n√™n l·∫•y t·ª´ API th·ªëng k√™ ri√™ng n·∫øu c√≥)
                decimal revenue = uiOrders.Sum(x => x.Amount);

                return (uiOrders, apiResponse.TotalElements, revenue, 0);
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"Exception: {ex.Message}");
                return (new List<Order>(), 0, 0, 0);
            }
        }

        public async Task<bool> PrintOrderAsync(string orderIdStr)
        {
            if (!long.TryParse(orderIdStr, out long orderId)) return false;

            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            try
            {
                // 1. G·ªçi API l·∫•y file
                var response = await _client.GetAsync($"/api/v1/orders/{orderId}/invoice");

                if (response.IsSuccessStatusCode)
                {
                    // 2. ƒê·ªçc d·ªØ li·ªáu file v√†o RAM
                    var content = await response.Content.ReadAsByteArrayAsync();

                    // 3. T·ª± ƒë·ªông t·∫°o file trong th∆∞ m·ª•c Downloads
                    // CreationCollisionOption.GenerateUniqueName: N·∫øu tr√πng t√™n th√¨ t·ª± th√™m s·ªë (1), (2)...
                    string fileName = $"Invoice_{orderId}_{DateTime.Now:yyyyMMdd_HHmmss}.pdf";

                    StorageFile file = await DownloadsFolder.CreateFileAsync(fileName, CreationCollisionOption.GenerateUniqueName);

                    // 4. Ghi d·ªØ li·ªáu v√†o file v·ª´a t·∫°o
                    await FileIO.WriteBytesAsync(file, content);

                    // 5. (T√πy ch·ªçn) M·ªü file l√™n lu√¥n ƒë·ªÉ ng∆∞·ªùi d√πng th·∫•y (n·∫øu mu·ªën)
                    // await Launcher.LaunchFileAsync(file);

                    System.Diagnostics.Debug.WriteLine($"[PrintOrder] ƒê√£ l∆∞u file t·∫°i: {file.Path}");
                    return true;
                }
                else
                {
                    System.Diagnostics.Debug.WriteLine($"[PrintOrder] API L·ªói: {response.StatusCode}");
                }
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"[PrintOrder] Exception: {ex.Message}");
            }
            return false;
        }

        public async Task<List<OrderDetail>> GetOrderDetailsAsync(string orderIdStr)
        {
            // 1. Validate and Parse ID
            // The API requires an integer ID (int64/long). The UI might be passing "ORD001" or "123".
            // If your UI is passing the numeric ID as a string, this parse will succeed.
            if (!long.TryParse(orderIdStr, out long orderId))
            {
                Debug.WriteLine($"[GetOrderDetailsAsync] Invalid Order ID format: {orderIdStr}. Expected a numeric ID.");
                return new List<OrderDetail>();
            }

            // 2. Attach Authorization Token
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            try
            {
                // 3. Call API Endpoint: GET /api/v1/orders/{orderId}
                var response = await _client.GetAsync($"/api/v1/orders/{orderId}");

                if (!response.IsSuccessStatusCode)
                {
                    Debug.WriteLine($"[GetOrderDetailsAsync] API Error: {response.StatusCode} for ID {orderId}");
                    return new List<OrderDetail>();
                }

                // 4. Deserialize Response
                // We use OrderResponse model which matches the JSON structure provided
                var orderResponse = await response.Content.ReadFromJsonAsync<OrderResponse>(_jsonOptions);

                if (orderResponse == null || orderResponse.OrderItems == null)
                {
                    return new List<OrderDetail>();
                }

                // 5. Map to UI Model (OrderDetail)
                // We transform the API's OrderItem list into the simple OrderDetail list used by the UI
                var details = orderResponse.OrderItems.Select(item => new OrderDetail
                {
                    // Handle potential null product reference
                    ProductName = item.Product?.ProductName ?? "Unknown Product",
                    Quantity = item.Quantity,
                    // Use UnitPrice or TotalPrice based on what you want to display per row
                    Price = item.UnitPrice
                }).ToList();

                return details;
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"[GetOrderDetailsAsync] Exception: {ex.Message}");
                return new List<OrderDetail>();
            }
        }

        public async Task<bool> DeleteOrderAsync(string orderIdStr)
        {
            // 1. Validate and Parse ID
            // The UI passes the ID as a string, but the API path likely needs the numeric ID.
            if (!long.TryParse(orderIdStr, out long orderId))
            {
                Debug.WriteLine($"[DeleteOrderAsync] Invalid Order ID format: {orderIdStr}. Expected a numeric ID.");
                return false;
            }

            // 2. Attach Authorization Token
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            try
            {
                // 3. Call API Endpoint: DELETE /api/v1/orders/{orderId}
                var response = await _client.DeleteAsync($"/api/v1/orders/{orderId}");

                if (response.IsSuccessStatusCode)
                {
                    Debug.WriteLine($"[DeleteOrderAsync] Successfully deleted order {orderId}");
                    return true;
                }
                else
                {
                    var errorContent = await response.Content.ReadAsStringAsync();
                    Debug.WriteLine($"[DeleteOrderAsync] Failed to delete order {orderId}. Status: {response.StatusCode}. Error: {errorContent}");
                    return false;
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"[DeleteOrderAsync] Exception: {ex.Message}");
                return false;
            }
        }

        public async Task<bool> UpdateOrderAsync(Order order)
        {
            Debug.WriteLine($"[UpdateOrderAsync] Success for Order");
            if (order.Id <= 0) return false;

            
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            
            var request = new UpdateOrderRequest
            {
                Status = MapStatusToApi(order.Status),
                PaymentMethod = "CASH_ON_DELIVERY", 
                OrderItems = new List<UpdateOrderItemRequest>()
            };

            try
            {
                
                var response = await _client.PutAsJsonAsync($"/api/v1/orders/{order.Id}", request, _jsonOptions);

                if (response.IsSuccessStatusCode)
                {
                    Debug.WriteLine($"[UpdateOrderAsync] Success for Order {order.Id}");
                    return true;
                }
                else
                {
                    var error = await response.Content.ReadAsStringAsync();
                    Debug.WriteLine($"[UpdateOrderAsync] Failed: {response.StatusCode} - {error}");
                    return false;
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"[UpdateOrderAsync] Exception: {ex.Message}");
                return false;
            }
        }

        // Helper to map UI status back to API enum strings
        private string MapStatusToApi(string uiStatus)
        {
            return uiStatus switch
            {
                "M·ªõi t·∫°o" => "CREATED",
                "ƒê√£ thanh to√°n" => "PAID",
                "ƒê√£ h·ªßy" => "CANCELLED",
                _ => "CREATED" 
            };
        }



        public async Task<bool> CreateOrderAsync(CreateOrderRequest request)
        {
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            // G·ªçi API endpoint th·∫≠t
            var response = await _client.PostAsJsonAsync("/api/v1/orders", request);

            if (response.IsSuccessStatusCode)
            {
                Debug.WriteLine("[CREATE ORDER] Success");
                return true;
            }
            else
            {
                var error = await response.Content.ReadAsStringAsync();
                Debug.WriteLine($"[CREATE ORDER] Failed: {response.StatusCode} - {error}");
                return false;
            }
        }

        private string MapStatusToUI(string apiStatus)
        {
            return apiStatus switch
            {
                "CREATED" => "M·ªõi t·∫°o",
                "PAID" => "ƒê√£ thanh to√°n",
                "CANCELLED" => "ƒê√£ h·ªßy",
                _ => apiStatus
            };
        }
    }
}
```

### FE\SalesManagement.WinUI\Services\Implementations\ProductService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Diagnostics;
using System.IO;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Net.Http.Json;
using System.Text.Json;
using Windows.Storage;

public class ProductService : IProductService
{
    private readonly HttpClient _client;
    private readonly IAuthService _authService;

    public ProductService(
        IHttpClientFactory httpClientFactory,
        IAuthService authService)
    {
        _client = httpClientFactory.CreateClient("API");
        _authService = authService;
    }

    public async Task<ProductListData?> GetProductsAsync(
        int page = 1,
        int size = 20,
        string sortBy = "productName",
        string sortDir = "asc")
    {
        var token = _authService.GetAccessToken();
        if (!string.IsNullOrEmpty(token))
        {
            _client.DefaultRequestHeaders.Authorization =
                new AuthenticationHeaderValue("Bearer", token);
        }

        var url =
            $"/api/v1/products?page={page}&size={size}&sortBy={sortBy}&sortDir={sortDir}";

        var response = await _client.GetAsync(url);



        var rawJson = await response.Content.ReadAsStringAsync();


        if (!response.IsSuccessStatusCode)
            return null;

        var options = new JsonSerializerOptions
        {
            PropertyNameCaseInsensitive = true
        };

        var apiResponse = JsonSerializer.Deserialize<
            ApiResponse<ProductListData>>(rawJson, options);


        Debug.WriteLine($"Success: {apiResponse?.Success}");
        Debug.WriteLine($"Products: {apiResponse?.Data?.Products?.Count}");


        if (apiResponse == null || !apiResponse.Success)
            return null;

        return apiResponse.Data;
    }

    public async Task<bool> CreateProductAsync(CreateProductRequest request)
    {
        var token = _authService.GetAccessToken();
        if (!string.IsNullOrEmpty(token))
        {
            _client.DefaultRequestHeaders.Authorization =
                new AuthenticationHeaderValue("Bearer", token);
        }

        var res = await _client.PostAsJsonAsync("/api/v1/products", request);

        Debug.WriteLine($"[CREATE PRODUCT] {res.StatusCode}");

        return res.IsSuccessStatusCode;
    }

    public async Task<bool> DeleteProductAsync(int productId)
    {
        var token = _authService.GetAccessToken();
        if (!string.IsNullOrEmpty(token))
        {
            _client.DefaultRequestHeaders.Authorization =
                new AuthenticationHeaderValue("Bearer", token);
        }

        // N·∫øu API ch·ªâ c·∫ßn productId (kh√¥ng c·∫ßn body)
        var response = await _client.PatchAsync($"/api/v1/products/{productId}", null);

        Debug.WriteLine($"[DELETE PRODUCT] {response.StatusCode}");

        return response.IsSuccessStatusCode;
    }

    public async Task<bool> UploadImageAsync(int productId, StorageFile file)
    {
        var token = _authService.GetAccessToken();
        if (!string.IsNullOrEmpty(token))
        {
            _client.DefaultRequestHeaders.Authorization =
                new AuthenticationHeaderValue("Bearer", token);
        }

        try
        {
            // ƒê·ªçc stream c·ªßa file ·∫£nh
            using var stream = await file.OpenStreamForReadAsync();

            // T·∫°o form-data body
            using var content = new MultipartFormDataContent();
            var fileContent = new StreamContent(stream);

            // Thi·∫øt l·∫≠p header lo·∫°i ·∫£nh ‚Äî t·ª± ƒë·ªông nh·∫≠n di·ªán
            fileContent.Headers.ContentType = new MediaTypeHeaderValue(GetMimeType(file.FileType));

            // ‚ö†Ô∏è "file" l√† t√™n field BE y√™u c·∫ßu, c√≥ th·ªÉ thay n·∫øu backend c·∫ßn "image" ho·∫∑c "upload"
            content.Add(fileContent, "file", file.Name);

            // G·ª≠i POST multipart/form-data
            var response = await _client.PostAsync($"/api/v1/products/{productId}/images", content);

            Debug.WriteLine($"[UPLOAD IMAGE] {response.StatusCode}");

            return response.IsSuccessStatusCode;
        }
        catch (Exception ex)
        {
            Debug.WriteLine("UploadImageAsync error: " + ex.Message);
            return false;
        }
    }

    private string GetMimeType(string fileExtension)
    {
        return fileExtension.ToLower() switch
        {
            ".jpg" or ".jpeg" => "image/jpeg",
            ".png" => "image/png",
            ".gif" => "image/gif",
            _ => "application/octet-stream"
        };
    }

    public async Task<bool> UpdateProductAsync(int productId, Product product)
    {
        var token = _authService.GetAccessToken();
        if (!string.IsNullOrEmpty(token))
        {
            _client.DefaultRequestHeaders.Authorization =
                new AuthenticationHeaderValue("Bearer", token);
        }

        var url = $"/api/v1/products/{productId}";

        var response = await _client.PutAsJsonAsync(url, new
        {
            categoryId = product.Category.CategoryId,
            productName = product.ProductName,
            description = product.Description,
            author = product.Author,
            publisher = product.Publisher,
            publicationYear = product.PublicationYear,
            price = product.Price,
            stockQuantity = product.StockQuantity,
            minStockQuantity = product.MinStockQuantity
        });

        Debug.WriteLine($"[UPDATE PRODUCT] {response.StatusCode}");
        return response.IsSuccessStatusCode;
    }

}

```

### FE\SalesManagement.WinUI\Services\Implementations\PromotionService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Diagnostics;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text.Json;

namespace SalesManagement.WinUI.Services.Implementations
{
    public class PromotionService : IPromotionService
    {
        private readonly HttpClient _client;
        private readonly IAuthService _authService;
        private readonly JsonSerializerOptions _jsonOptions;

        public PromotionService(IHttpClientFactory httpClientFactory, IAuthService authService)
        {
            _client = httpClientFactory.CreateClient("API");
            _authService = authService;
            _jsonOptions = new JsonSerializerOptions { PropertyNameCaseInsensitive = true };
        }

        public async Task<List<Promotion>> GetActivePromotionsAsync()
        {
            // 1. G·∫Øn Token
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", token);
            }

            try
            {
                // 2. G·ªçi API
                var response = await _client.GetAsync("/api/v1/promotions/search");

                // 3. ƒê·ªçc Raw JSON (Gi·ªëng ProductService)
                var rawJson = await response.Content.ReadAsStringAsync();

                if (!response.IsSuccessStatusCode)
                {
                    Debug.WriteLine($"[GET PROMOTIONS ERROR] {response.StatusCode} - {rawJson}");
                    return GetDefaultNonePromotion();
                }

                Debug.WriteLine(rawJson);

                // 4. Deserialize v√†o Wrapper (ApiResponse<PromotionListData>)
                var apiResponse = JsonSerializer.Deserialize<ApiResponse<PromotionListData>>(rawJson, _jsonOptions);

                // 5. Ki·ªÉm tra Success v√† Data
                if (apiResponse == null || !apiResponse.Success || apiResponse.Data == null || apiResponse.Data.Promotions == null)
                {
                    Debug.WriteLine("[GET PROMOTIONS] API returned success=false or null data");
                    return GetDefaultNonePromotion();
                }

                Debug.WriteLine($"[GET PROMOTIONS] Success. Count: {apiResponse.Data.Promotions.Count}");

                // 6. Mapping sang UI Model
                var uiPromotions = apiResponse.Data.Promotions
                    .Where(p => p.IsActive && IsDateValid(p.EndDate))
                    .Select(p => new Promotion
                    {
                        PromotionId = p.PromotionId,
                        PromotionCode = p.PromotionCode,
                        PromotionName = p.PromotionName,
                        Description = p.Description,
                        DiscountType = p.DiscountType,

                        // Logic n√†y ƒê√öNG: N·∫øu l√† % th√¨ l·∫•y value l√†m %, ng∆∞·ª£c l·∫°i % l√† 0
                        DiscountPercentage = p.DiscountType == "PERCENTAGE" ? (decimal)p.DiscountValue : 0,

                        // Value ti·ªÅn m·∫∑t
                        DiscountValue = (decimal)p.DiscountValue,

                        // Gi·ªù ƒë√¢y MinOrderAmount ƒë√£ c√≥ d·ªØ li·ªáu t·ª´ JSON
                        MinOrderAmount = p.MinOrderAmount,
                        MaxDiscountValue = p.MaxDiscountValue > 0 ? p.MaxDiscountValue : 0,
                    }).ToList();

                // 7. Lu√¥n th√™m m·ª•c "Kh√¥ng √°p d·ª•ng" v√†o ƒë·∫ßu danh s√°ch
                uiPromotions.Insert(0, new Promotion
                {
                    PromotionId = 0,
                    PromotionCode = "NONE",
                    PromotionName = "Kh√¥ng √°p d·ª•ng",
                    DiscountType = "FIXED",
                    DiscountValue = 0,
                    MinOrderAmount = 0
                });

                foreach (var promo in uiPromotions)
                {
                    Debug.WriteLine($"[PROMOTION] ID: {promo.PromotionId}, Name: {promo.PromotionName}, Type: {promo.DiscountType}, Value: {promo.DiscountValue}, MinOrder: {promo.MinOrderAmount}");
                }
                return uiPromotions;
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"[GET PROMOTIONS EXCEPTION] {ex.Message}");
                return GetDefaultNonePromotion();
            }
        }

        // H√†m helper tr·∫£ v·ªÅ list m·∫∑c ƒë·ªãnh ƒë·ªÉ tr√°nh crash UI
        private List<Promotion> GetDefaultNonePromotion()
        {
            return new List<Promotion>
            {
                new Promotion { PromotionId = 0, PromotionName = "Kh√¥ng √°p d·ª•ng" }
            };
        }

        private bool IsDateValid(object endDateObj)
        {
            // V√¨ Model PromotionResponse ƒë√£ ƒë·ªãnh nghƒ©a EndDate l√† DateTime, 
            // n√™n object n√†y ch·∫Øc ch·∫Øn l√† DateTime sau khi Deserialize.
            if (endDateObj is DateTime dt)
            {
                // S·ª≠ d·ª•ng .Date ƒë·ªÉ so s√°nh ch·ªâ ng√†y, b·ªè qua gi·ªù ph√∫t 
                // (ƒê·ªÉ tr√°nh tr∆∞·ªùng h·ª£p h·∫øt h·∫°n v√†o 23:59 h√¥m nay nh∆∞ng so s√°nh v·ªõi Now l·∫°i sai)
                return dt.Date >= DateTime.Now.Date;
            }

            return true;
        }
    }
}
```

### FE\SalesManagement.WinUI\Services\Implementations\ReportService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Diagnostics;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Net.Http.Json;

namespace SalesManagement.WinUI.Services
{
    public class ReportService : IReportService
    {
        private readonly HttpClient _client;
        private readonly IAuthService _authService;

        public ReportService(IHttpClientFactory httpClientFactory, IAuthService authService)
        {
            _client = httpClientFactory.CreateClient("API");
            _authService = authService;
        }

        private void AttachToken()
        {
            var token = _authService.GetAccessToken();
            if (!string.IsNullOrEmpty(token))
            {
                _client.DefaultRequestHeaders.Authorization =
                    new AuthenticationHeaderValue("Bearer", token);
            }
        }

        public async Task<List<ReportRevenueYear>> GetRevenueByYearAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                $"/api/v1/reports/revenue/year" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);

            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT YEAR] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportRevenueYear>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportRevenueYear>>()
                ?? new List<ReportRevenueYear>();
        }

        public async Task<List<ReportRevenueMonth>> GetRevenueByMonthAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                $"/api/v1/reports/revenue/month" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT MONTH] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportRevenueMonth>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportRevenueMonth>>()
                ?? new List<ReportRevenueMonth>();
        }

        public async Task<List<ReportRevenueWeekly>> GetRevenueByWeeklyAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                $"/api/v1/reports/revenue/weekly" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT WEEKLY] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportRevenueWeekly>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportRevenueWeekly>>()
                ?? new List<ReportRevenueWeekly>();
        }

        public async Task<List<ReportRevenueDaily>> GetRevenueByDailyAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                $"/api/v1/reports/revenue/daily" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT DAILY] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportRevenueDaily>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportRevenueDaily>>()
                ?? new List<ReportRevenueDaily>();
        }

        public async Task<ReportRevenueCurrentYear?> GetRevenueCurrentYearAsync()
        {
            AttachToken();

            var response = await _client.GetAsync(
                "/api/v1/reports/revenue/current-year");
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT CURRENT YEAR] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return null;

            return await response.Content
                .ReadFromJsonAsync<ReportRevenueCurrentYear>();
        }

        public async Task<ReportRevenueCurrentYear?> GetRevenueCurrentMonthAsync()
        {
            AttachToken();

            var response = await _client.GetAsync(
                "/api/v1/reports/revenue/current-month");
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT CURRENT MONTH] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return null;

            return await response.Content
                .ReadFromJsonAsync<ReportRevenueCurrentYear>();
        }

        public async Task<List<ReportProductYear>> GetProductReportByYearAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                "/api/v1/reports/products/year" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT PRODUCT YEAR] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportProductYear>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportProductYear>>()
                ?? new List<ReportProductYear>();
        }

        public async Task<List<ReportProductWeekly>> GetProductReportByWeeklyAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();
            string url =
                "/api/v1/reports/products/weekly" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT PRODUCT WEEKLY] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportProductWeekly>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportProductWeekly>>()
                ?? new List<ReportProductWeekly>();
        }

        public async Task<List<ReportProductSales>> GetProductSalesAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                "/api/v1/reports/products/sales" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT PRODUCT SALES] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportProductSales>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportProductSales>>()
                ?? new List<ReportProductSales>();
        }

        public async Task<List<ReportProductMonth>> GetProductReportByMonthAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                "/api/v1/reports/products/month" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT PRODUCT MONTH] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportProductMonth>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportProductMonth>>()
                ?? new List<ReportProductMonth>();
        }

        public async Task<List<ReportProductDaily>> GetProductReportByDailyAsync(
            DateTime startDate,
            DateTime endDate)
        {
            AttachToken();

            string url =
                "/api/v1/reports/products/daily" +
                $"?startDate={startDate:yyyy-MM-dd}" +
                $"&endDate={endDate:yyyy-MM-dd}";

            var response = await _client.GetAsync(url);
            Debug.WriteLine("111111111111111");

            Debug.WriteLine($"[REPORT PRODUCT DAILY] {response.StatusCode}");

            if (!response.IsSuccessStatusCode)
                return new List<ReportProductDaily>();

            return await response.Content
                .ReadFromJsonAsync<List<ReportProductDaily>>()
                ?? new List<ReportProductDaily>();
        }

    }
}

```

### FE\SalesManagement.WinUI\Services\Implementations\StorageService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.IO;
using System.Security.Cryptography;
using System.Text;
using System.Text.Json;
using Windows.Storage;

namespace SalesManagement.WinUI.Services.Implementations;

public class StorageService : IStorageService
{


    private const string CredentialsFileName = "credentials.dat";
    private const string SettingsFileName = "settings.json";
    private const string AppSettingsFileName = "app_settings.json";
    private readonly ApplicationDataContainer _localSettings;
    private readonly StorageFolder _localFolder;

    public StorageService()
    {
        _localSettings = ApplicationData.Current.LocalSettings;
        _localFolder = ApplicationData.Current.LocalFolder;
    }

    public async Task SaveCredentialsAsync(string username, string password, bool rememberMe)
    {
        if (!rememberMe)
        {
            await ClearCredentialsAsync();
            return;
        }

        var credentials = new StoredCredentials
        {
            Username = username,
            EncryptedPassword = EncryptPassword(password),
            RememberMe = rememberMe,
            LastLoginTime = DateTime.Now
        };

        var json = JsonSerializer.Serialize(credentials);
        var file = await _localFolder.CreateFileAsync(CredentialsFileName, CreationCollisionOption.ReplaceExisting);
        await FileIO.WriteTextAsync(file, json);
    }

    public async Task<StoredCredentials?> GetStoredCredentialsAsync()
    {
        try
        {
            var file = await _localFolder.GetFileAsync(CredentialsFileName);
            var json = await FileIO.ReadTextAsync(file);
            var credentials = JsonSerializer.Deserialize<StoredCredentials>(json);

            if (credentials != null && credentials.RememberMe)
            {
                // Decrypt password
                credentials.EncryptedPassword = DecryptPassword(credentials.EncryptedPassword);
                return credentials;
            }
        }
        catch (FileNotFoundException)
        {
            // File doesn't exist
        }
        catch (Exception ex)
        {
            System.Diagnostics.Debug.WriteLine($"Error loading credentials: {ex.Message}");
        }

        return null;
    }

    public async Task ClearCredentialsAsync()
    {
        try
        {
            var file = await _localFolder.GetFileAsync(CredentialsFileName);
            await file.DeleteAsync();
        }
        catch (FileNotFoundException)
        {
            // Already cleared
        }
    }

    public async Task<bool> HasStoredCredentialsAsync()
    {
        try
        {
            await _localFolder.GetFileAsync(CredentialsFileName);
            return true;
        }
        catch (FileNotFoundException)
        {
            return false;
        }
    }

    public Task SaveSettingAsync(string key, string value)
    {
        _localSettings.Values[key] = value;
        return Task.CompletedTask;
    }

    public Task<string?> GetSettingAsync(string key)
    {
        if (_localSettings.Values.TryGetValue(key, out var value))
        {
            return Task.FromResult(value?.ToString());
        }
        return Task.FromResult<string?>(null);
    }

    public Task SaveLastScreenAsync(string screenName)
    {
        return SaveSettingAsync("LastScreen", screenName);
    }

    public Task<string?> GetLastScreenAsync()
    {
        return GetSettingAsync("LastScreen");
    }

    public async Task SaveAppSettingsAsync(AppSettings settings)
    {
        try
        {
            var json = JsonSerializer.Serialize(settings, new JsonSerializerOptions
            {
                WriteIndented = true
            });

            var file = await _localFolder.CreateFileAsync(
                AppSettingsFileName,
                CreationCollisionOption.ReplaceExisting
            );

            await FileIO.WriteTextAsync(file, json);

            System.Diagnostics.Debug.WriteLine($"‚úÖ Saved settings: ItemsPerPage={settings.ItemsPerPage}");
        }
        catch (Exception ex)
        {
            System.Diagnostics.Debug.WriteLine($"‚ùå Error saving app settings: {ex.Message}");
        }
    }

    public async Task<AppSettings> GetAppSettingsAsync()
    {
        try
        {
            var file = await _localFolder.GetFileAsync(AppSettingsFileName);
            var json = await FileIO.ReadTextAsync(file);

            var settings = JsonSerializer.Deserialize<AppSettings>(json);
            if (settings != null)
            {
                System.Diagnostics.Debug.WriteLine($"‚úÖ Loaded settings: ItemsPerPage={settings.ItemsPerPage}");
                return settings;
            }
        }
        catch (FileNotFoundException)
        {
            System.Diagnostics.Debug.WriteLine("‚ö†Ô∏è Settings file not found, using default");
        }
        catch (Exception ex)
        {
            System.Diagnostics.Debug.WriteLine($"‚ùå Error loading app settings: {ex.Message}");
        }

        // Tr·∫£ v·ªÅ m·∫∑c ƒë·ªãnh n·∫øu kh√¥ng load ƒë∆∞·ª£c
        return new AppSettings();
    }

    public async Task ResetAppSettingsAsync()
    {
        try
        {
            var file = await _localFolder.GetFileAsync(AppSettingsFileName);
            await file.DeleteAsync();
        }
        catch (FileNotFoundException) { }

        // Save l·∫°i settings m·∫∑c ƒë·ªãnh
        await SaveAppSettingsAsync(new AppSettings());
    }

    // Simple encryption using Data Protection API
    private string EncryptPassword(string password)
    {
        try
        {
            var data = Encoding.UTF8.GetBytes(password);
            var encrypted = ProtectedData.Protect(data, null, DataProtectionScope.CurrentUser);
            return Convert.ToBase64String(encrypted);
        }
        catch
        {
            return password; // Fallback
        }
    }

    private string DecryptPassword(string encryptedPassword)
    {
        try
        {
            var data = Convert.FromBase64String(encryptedPassword);
            var decrypted = ProtectedData.Unprotect(data, null, DataProtectionScope.CurrentUser);
            return Encoding.UTF8.GetString(decrypted);
        }
        catch
        {
            return encryptedPassword; // Fallback
        }
    }
}
```

### FE\SalesManagement.WinUI\Services\Interfaces\IApiService.cs
```cs
Ôªøusing System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IApiService
    {
        Task<T> GetAsync<T>(string endpoint);
        //Task<T> PostAsync<T>(string endpoint, object data);
        //Task<T> PutAsync<T>(string endpoint, object data);
        //Task<bool> DeleteAsync(string endpoint);
        //void SetAuthToken(string token);
        //void SetAuthHeader();
    }
}

```

### FE\SalesManagement.WinUI\Services\Interfaces\IAuthService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;

namespace SalesManagement.WinUI.Services.Interfaces;

public interface IAuthService
{
    /// <summary>
    /// Authenticates user with username and password
    /// </summary>
    Task<(bool Success, string ErrorMessage, UserResponse? User)> LoginAsync(string username, string password);

    /// <summary>
    /// Validates if a token is still valid
    /// </summary>
    Task<bool> ValidateTokenAsync(string token);

    /// <summary>
    /// Refreshes the access token using refresh token
    /// </summary>
    Task<(bool Success, UserResponse? User)> RefreshTokenAsync();

    /// <summary>
    /// Logs out the current user
    /// </summary>
    Task<bool> LogoutAsync();

    /// <summary>
    /// Gets the current user information
    /// </summary>
    UserResponse? GetCurrentUser();

    /// <summary>
    /// Gets the current access token
    /// </summary>
    string? GetAccessToken();

    /// <summary>
    /// Checks if user is authenticated
    /// </summary>
    bool IsAuthenticated();

}
```

### FE\SalesManagement.WinUI\Services\Interfaces\ICategoryService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface ICategoryService
    {
        Task<List<Category>> GetAllAsync();
    }
}
```

### FE\SalesManagement.WinUI\Services\Interfaces\IDialogService.cs
```cs
Ôªø// SalesManagement.WinUI/Services/Interfaces/IDialogService.cs
using System.Threading.Tasks;
using SalesManagement.WinUI.ViewModels;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IDialogService
    {
        
        void SetXamlRoot(Microsoft.UI.Xaml.XamlRoot xamlRoot);

        
        Task<bool> ShowConfirmationAsync(string title, string message, string primaryText = "C√≥", string closeText = "Kh√¥ng");

        
        Task<bool> ShowEditOrderDialogAsync(OrderItemViewModel orderVm);

        Task ShowOrderDetailDialogAsync(OrderItemViewModel orderVm);

        Task<bool> ShowCreateOrderDialogAsync(CreateOrderViewModel viewModel);
    }
}
```

### FE\SalesManagement.WinUI\Services\Interfaces\ILoadingService.cs
```cs
Ôªøusing Microsoft.UI.Xaml; // <--- C·∫ßn d√≤ng n√†y ƒë·ªÉ hi·ªÉu XamlRoot
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services.Interfaces;

public interface ILoadingService
{
    // Th√™m d√≤ng n√†y v√†o interface
    void SetXamlRoot(XamlRoot root);

    Task ShowAsync(string message = "ƒêang t·∫£i...");
    void Hide();
}
```

### FE\SalesManagement.WinUI\Services\Interfaces\INavigationService.cs
```cs
Ôªøusing Microsoft.UI.Xaml.Controls;

public interface INavigationService
{
    void SetFrame(Frame frame);
    bool NavigateTo(Type pageType);
    bool NavigateTo(Type pageType, object? parameter);
    void SetHeader(string? header);

    void GoBack();
}
```

### FE\SalesManagement.WinUI\Services\Interfaces\IOrderService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IOrderService
    {
        Task<(List<Order> Items, int TotalCount, decimal TotalRevenue, int PendingCount)> GetOrdersAsync(
            int pageIndex,
            int pageSize,
            string status = "",
            DateTime? fromDate = null,
            DateTime? toDate = null);
        Task<List<OrderDetail>> GetOrderDetailsAsync(string orderId);
        Task<bool> DeleteOrderAsync(string orderId);
        Task<bool> UpdateOrderAsync(Order order);

        Task<bool> CreateOrderAsync(CreateOrderRequest request);

        Task<bool> PrintOrderAsync (string orderId);
    }
}

```

### FE\SalesManagement.WinUI\Services\Interfaces\IProductService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using Windows.Storage;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IProductService
    {
        Task<ProductListData?> GetProductsAsync(
            int page = 1,
            int size = 200,
            string sortBy = "productName",
            string sortDir = "asc");
        Task<bool> CreateProductAsync(CreateProductRequest request);
        Task<bool> DeleteProductAsync(int productId);

        // ‚úÖ Upload file ·∫£nh tr·ª±c ti·∫øp d·∫°ng multipart/form-data
        Task<bool> UploadImageAsync(int productId, StorageFile file);

        Task<bool> UpdateProductAsync(int productId, Product product);

    }
}

```

### FE\SalesManagement.WinUI\Services\Interfaces\IPromotionService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IPromotionService
    {
        Task<List<Promotion>> GetActivePromotionsAsync();
    }
}

```

### FE\SalesManagement.WinUI\Services\Interfaces\IReportService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IReportService
    {
        Task<List<ReportRevenueYear>> GetRevenueByYearAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportRevenueMonth>> GetRevenueByMonthAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportRevenueWeekly>> GetRevenueByWeeklyAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportRevenueDaily>> GetRevenueByDailyAsync(
            DateTime startDate,
            DateTime endDate);

        Task<ReportRevenueCurrentYear?> GetRevenueCurrentYearAsync();

        Task<ReportRevenueCurrentYear?> GetRevenueCurrentMonthAsync();

        // Product report
        Task<List<ReportProductYear>> GetProductReportByYearAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportProductWeekly>> GetProductReportByWeeklyAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportProductSales>> GetProductSalesAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportProductMonth>> GetProductReportByMonthAsync(
            DateTime startDate,
            DateTime endDate);

        Task<List<ReportProductDaily>> GetProductReportByDailyAsync(
            DateTime startDate,
            DateTime endDate);

    }
}

```

### FE\SalesManagement.WinUI\Services\Interfaces\IStorageService.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.Services.Interfaces
{
    public interface IStorageService
    {
        Task SaveCredentialsAsync(string username, string password, bool rememberMe);

        /// <summary>
        /// Retrieves stored credentials
        /// </summary>
        Task<StoredCredentials?> GetStoredCredentialsAsync();

        /// <summary>
        /// Clears stored credentials
        /// </summary>
        Task ClearCredentialsAsync();

        /// <summary>
        /// Checks if credentials are stored
        /// </summary>
        Task<bool> HasStoredCredentialsAsync();

        /// <summary>
        /// Saves app settings
        /// </summary>
        Task SaveSettingAsync(string key, string value);

        /// <summary>
        /// Gets app setting
        /// </summary>
        Task<string?> GetSettingAsync(string key);

        /// <summary>
        /// Saves last opened screen
        /// </summary>
        Task SaveLastScreenAsync(string screenName);

        /// <summary>
        /// Gets last opened screen
        /// </summary>
        Task<string?> GetLastScreenAsync();

        // ===== APP SETTINGS (M·ªöI) =====
        /// <summary>
        /// L∆∞u to√†n b·ªô c·∫•u h√¨nh app
        /// </summary>
        Task SaveAppSettingsAsync(AppSettings settings);

        /// <summary>
        /// L·∫•y to√†n b·ªô c·∫•u h√¨nh app
        /// </summary>
        Task<AppSettings> GetAppSettingsAsync();

        /// <summary>
        /// Reset v·ªÅ c·∫•u h√¨nh m·∫∑c ƒë·ªãnh
        /// </summary>
        Task ResetAppSettingsAsync();
    }
}

```

### FE\SalesManagement.WinUI\ViewModels\AddProductViewModel.cs
```cs
Ôªøusing CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Collections.ObjectModel;
using System.Diagnostics;

namespace SalesManagement.WinUI.ViewModels
{
    public partial class AddProductViewModel : ObservableObject
    {
        private readonly IProductService _productService;
        private readonly ICategoryService _categoryService;
        private readonly INavigationService _navigationService;

        public ObservableCollection<Category> Categories { get; } = new();

        [ObservableProperty] private string productName = string.Empty;
        [ObservableProperty] private string description = string.Empty;
        [ObservableProperty] private double price;

        [ObservableProperty] private Category? selectedCategory;
        [ObservableProperty]
        private int selectedCategoryId = -1;

        [ObservableProperty] private string message = string.Empty;
        [ObservableProperty] private string messageTrue = string.Empty;
        // TH√äM M·ªöI ƒê·ªÇ KH·ªöP CreateProductRequest
        [ObservableProperty] private string author = string.Empty;
        [ObservableProperty] private string publisher = string.Empty;
        [ObservableProperty] private int publicationYear;
        [ObservableProperty] private int stockQuantity;
        [ObservableProperty] private int minStockQuantity;

        public IRelayCommand CreateProductCommand { get; }

        public AddProductViewModel(
            IProductService productService,
            ICategoryService categoryService,
            INavigationService navigationService)
        {
            _productService = productService;
            _categoryService = categoryService;
            _navigationService = navigationService;

            CreateProductCommand = new AsyncRelayCommand(CreateProductAsync);

            _ = LoadCategoriesAsync();
        }

        private async Task LoadCategoriesAsync()
        {
            var data = await _categoryService.GetAllAsync();
            Debug.WriteLine($"Loaded {data} categories.");

            Categories.Clear();

            // M·ª•c m·∫∑c ƒë·ªãnh
            Categories.Add(new Category
            {
                CategoryId = -1,
                CategoryName = "‚Äî Ch·ªçn danh m·ª•c ‚Äî"
            });

            if (data != null)
            {
                foreach (var item in data)
                    Categories.Add(item);
            }

            SelectedCategory = Categories.First();
        }

        private async Task CreateProductAsync()
        {

            if (string.IsNullOrWhiteSpace(ProductName))
            {
                Message = "Vui l√≤ng nh·∫≠p t√™n s·∫£n ph·∫©m!";
                return;
            }

            if (string.IsNullOrWhiteSpace(Description))
            {
                Message = "Vui l√≤ng nh·∫≠p m√¥ t·∫£ s·∫£n ph·∫©m!";
                return;
            }

            if (Price == null || Price <= 0)
            {
                Message = "Gi√° s·∫£n ph·∫©m ph·∫£i l·ªõn h∆°n 0!";
                return;
            }

            if (string.IsNullOrWhiteSpace(author))
            {
                Message = "Vui l√≤ng nh·∫≠p t√™n t√°c gi·∫£!";
                return;
            }

            if (string.IsNullOrWhiteSpace(publisher))
            {
                Message = "Vui l√≤ng nh·∫≠p nh√† xu·∫•t b·∫£n!";
                return;
            }

            if (publicationYear == null || publicationYear <= 0)
            {
                Message = "Vui l√≤ng nh·∫≠p nƒÉm xu·∫•t b·∫£n h·ª£p l·ªá!";
                return;
            }

            if (stockQuantity == null || stockQuantity < 0)
            {
                Message = "S·ªë l∆∞·ª£ng t·ªìn kho kh√¥ng h·ª£p l·ªá!";
                return;
            }

            if (minStockQuantity == null || minStockQuantity < 0)
            {
                Message = "S·ªë l∆∞·ª£ng t·ªëi thi·ªÉu kh√¥ng h·ª£p l·ªá!";
                return;
            }

            if (SelectedCategoryId == -1)
            {
                Message = "Vui l√≤ng ch·ªçn danh m·ª•c!";
                return;
            }


            var request = new CreateProductRequest
            {
                ProductName = ProductName,
                Description = Description,
                Price = (decimal)Price,
                CategoryId = SelectedCategoryId,
                Author = author,
                Publisher = publisher,
                PublicationYear = publicationYear,
                StockQuantity = stockQuantity,
                MinStockQuantity = minStockQuantity
            };


            bool ok = await _productService.CreateProductAsync(request);

            if (ok)
            {
                MessageTrue = "Th√™m s·∫£n ph·∫©m th√†nh c√¥ng!";
                await Task.Delay(800);
                _navigationService.GoBack();
            }
            else
            {
                Debug.WriteLine(ok);
                Message = "T√™n s√°ch b·ªã tr√πng!";
            }
        }
    }
}

```

### FE\SalesManagement.WinUI\ViewModels\BaseViewModel.cs
```cs
Ôªøusing System.ComponentModel;
using System.Runtime.CompilerServices;

namespace SalesManagement.WinUI.ViewModels
{
    public abstract class BaseViewModel : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler? PropertyChanged;

        protected void OnPropertyChanged(
            [CallerMemberName] string? propertyName = null)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }

        protected bool SetProperty<T>(
            ref T backingField,
            T value,
            [CallerMemberName] string? propertyName = null)
        {
            if (EqualityComparer<T>.Default.Equals(backingField, value))
                return false;

            backingField = value;
            OnPropertyChanged(propertyName);
            return true;
        }
    }
}

```

### FE\SalesManagement.WinUI\ViewModels\CreateOrderViewModel.cs
```cs
Ôªøusing CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Diagnostics;
using System.Linq;
using System.Net;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.ViewModels
{

    public partial class CreateOrderDetailViewModel : ObservableObject
    {
        public List<Product> AvailableProducts { get; }

        [ObservableProperty]
        private ObservableCollection<Product> _filteredProducts;

        public CreateOrderDetailViewModel(List<Product> products)
        {
            AvailableProducts = products ?? new List<Product>();
            _filteredProducts = new ObservableCollection<Product>(AvailableProducts);
            Debug.WriteLine($"CreateOrderDetailViewModel initialized with {AvailableProducts.Count} products");
        }

        [ObservableProperty]
        private Product? _selectedProduct;

        [ObservableProperty]
        private int _quantity = 1;

        // Gi√° sau khi ƒë√£ tr·ª´ chi·∫øt kh·∫•u s·∫£n ph·∫©m (n·∫øu c√≥)
        [ObservableProperty]
        private decimal _price = 0;

        [ObservableProperty]
        private decimal _originalPrice = 0;


        public double QuantityDouble
        {
            get => (double)Quantity;
            set { if (Quantity != (int)value) Quantity = (int)value; }
        }

        public void OnSearchTextChanged(AutoSuggestBox sender, AutoSuggestBoxTextChangedEventArgs args)
        {
            try
            {
                Debug.WriteLine($"OnSearchTextChanged called. Reason: {args.Reason}");
                
                if (args.Reason == AutoSuggestionBoxTextChangeReason.UserInput)
                {
                    var query = sender.Text.ToLower().Trim();
                    Debug.WriteLine($"Search query: '{query}'");

                    if (string.IsNullOrEmpty(query))
                    {
                        FilteredProducts = new ObservableCollection<Product>(AvailableProducts);
                        Debug.WriteLine($"Reset to all {FilteredProducts.Count} products");
                    }
                    else
                    {
                        var matches = AvailableProducts.Where(p =>
                            p.ProductName.ToLower().Contains(query) ||
                            p.Price.ToString().Contains(query)
                        ).ToList();

                        FilteredProducts = new ObservableCollection<Product>(matches);
                        Debug.WriteLine($"Found {FilteredProducts.Count} matching products");
                    }
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"Error in OnSearchTextChanged: {ex.Message}");
            }
        }

        public void OnGotFocus(object sender, RoutedEventArgs e)
        {
            try
            {
                Debug.WriteLine("OnGotFocus called");
                
                if (sender is AutoSuggestBox box)
                {
                    if (FilteredProducts == null || !FilteredProducts.Any())
                    {
                        FilteredProducts = new ObservableCollection<Product>(AvailableProducts);
                        Debug.WriteLine($"Reset FilteredProducts to {FilteredProducts.Count} products");
                    }

                    box.IsSuggestionListOpen = true;
                    Debug.WriteLine("Suggestion list opened");
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"Error in OnGotFocus: {ex.Message}");
            }
        }
        partial void OnSelectedProductChanged(Product? value)
        {
            if (value != null)
            {
                OriginalPrice = value.Price;

                // LOGIC: T√≠nh gi√° Special Price
                // C√¥ng th·ª©c: Price * (1 - discountPercentage)
                if (value.IsDiscounted && value.DiscountPercentage > 0)
                {
                    // Gi·∫£ s·ª≠ DiscountPercentage trong Product model l∆∞u l√† 10 (t·ª©c 10%)
                    // N·∫øu l∆∞u 0.1 th√¨ b·ªè chia 100
                    decimal factor = 1 - (value.DiscountPercentage / 100m);
                    Price = value.Price * factor;
                }
                else
                {
                    Price = value.Price;
                }
            }
            else
            {
                Price = 0;
                OriginalPrice = 0;
            }
            UpdateTotals();
        }

        partial void OnQuantityChanged(int value) => UpdateTotals();
        partial void OnPriceChanged(decimal value) => UpdateTotals();

        public void OnSuggestionChosen(AutoSuggestBox sender, AutoSuggestBoxSuggestionChosenEventArgs args)
        {
            try
            {
                Debug.WriteLine("OnSuggestionChosen called");
                
                if (args.SelectedItem is Product product)
                {
                    SelectedProduct = product;
                    sender.Text = product.ProductName;
                    Debug.WriteLine($"Selected product: {product.ProductName}");
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"Error in OnSuggestionChosen: {ex.Message}");
            }
        }
        private void UpdateTotals()
        {
            OnPropertyChanged(nameof(Total));
            OnPropertyChanged(nameof(TotalDisplay));
            OnPropertyChanged(nameof(PriceDisplay));
        }

        public decimal Total => Quantity * Price;
        public string TotalDisplay => Total.ToString("N0");
        public string PriceDisplay => Price.ToString("N0");
    } 


    public partial class CreateOrderViewModel : ObservableObject
    {
        private readonly IOrderService _orderService;
        private readonly IProductService _productService;
        private readonly IPromotionService _promotionService;

        private List<Product> _allProducts = new();
        private List<Promotion> _allPromotions = new();

        [ObservableProperty]
        private ObservableCollection<CreateOrderDetailViewModel> _items = new();

        // --- Promotion ---
        [ObservableProperty]
        private List<Promotion> _promotions = new();

        [ObservableProperty]
        private Promotion? _selectedPromotion;

        // --- Totals ---
        [ObservableProperty] private decimal _subTotalAmount;
        [ObservableProperty] private decimal _discountAmount;
        [ObservableProperty] private decimal _totalAmount;

        [ObservableProperty]
        private string _shipAddress = string.Empty;

        [ObservableProperty]
        private string _note = string.Empty;

        [ObservableProperty]
        private string _customerEmail = string.Empty;

        public string SubTotalDisplay => SubTotalAmount.ToString("N0") + " ƒë";
        public string DiscountAmountDisplay => "-" + DiscountAmount.ToString("N0") + " ƒë";
        public string TotalAmountDisplay => TotalAmount.ToString("N0") + " ƒë";

        public CreateOrderViewModel(
            IOrderService orderService,
            IProductService productService,
            IPromotionService promotionService)
        {
            _orderService = orderService;
            _productService = productService;
            _promotionService = promotionService;
            LoadData();
        }

        private async void LoadData()
        {
            
            var productRes = await _productService.GetProductsAsync(1, 1000);
            if (productRes?.Products != null)
            {
                _allProducts = productRes.Products;
                AddRow();
            }
            var promoData = await _promotionService.GetActivePromotionsAsync();
            _allPromotions = promoData ?? new List<Promotion>();

        }

        public void ResetData()
        {
            // 1. X√≥a danh s√°ch s·∫£n ph·∫©m
            Items.Clear();
            AddRow(); // Th√™m l·∫°i 1 d√≤ng tr·ªëng m·∫∑c ƒë·ªãnh

            // 2. X√≥a th√¥ng tin nh·∫≠p li·ªáu
            CustomerEmail = string.Empty;
            ShipAddress = string.Empty;
            Note = string.Empty;

            // 3. Reset Voucher & Ti·ªÅn
            SelectedPromotion = null;
            SubTotalAmount = 0;
            DiscountAmount = 0;
            TotalAmount = 0;
        }

        [RelayCommand]
        private void AddRow()
        {
            var newItem = new CreateOrderDetailViewModel(_allProducts);
            newItem.PropertyChanged += OnItemPropertyChanged;
            Items.Add(newItem);
        }

        [RelayCommand]
        private void RemoveRow(CreateOrderDetailViewModel item)
        {
            if (Items.Contains(item))
            {
                item.PropertyChanged -= OnItemPropertyChanged;
                Items.Remove(item);
                CalculateTotal();
            }
        }

        public async void OpenPromotionList()
        {
            // 1. L·∫•y danh s√°ch g·ªëc (ƒë√£ load ·ªü LoadData)
            if (_allPromotions == null || !_allPromotions.Any())
            {
                var data = await _promotionService.GetActivePromotionsAsync();
                _allPromotions = data ?? new List<Promotion>();
            }
            foreach (var item in _allPromotions)
            {
                Debug.WriteLine($"[Valid Promotion] {item.PromotionId} - MinOrder: {item.MinOrderAmount}, SubTotal: {SubTotalAmount}");
            }

            // 2. L·ªçc danh s√°ch: CH·ªà l·∫•y c√°i n√†o th·ªèa m√£n SubTotal hi·ªán t·∫°i
            // SubTotalAmount l√∫c ch∆∞a ch·ªçn sp s·∫Ω l√† 0 -> Voucher 200k s·∫Ω b·ªã lo·∫°i ngay ·ªü ƒë√¢y
            var validPromotions = _allPromotions.Where(p =>
            {
                // Gi·ªØ l·∫°i Voucher r·ªóng (n·∫øu b·∫°n c√≥ thi·∫øt k·∫ø voucher ID=0 l√† "Kh√¥ng ch·ªçn g√¨")
                if (p.PromotionId == 0) return true;

                // Logic l·ªçc c·ª©ng: Ti·ªÅn hi·ªán t·∫°i ph·∫£i >= ƒêi·ªÅu ki·ªán voucher
                return p.MinOrderAmount <= SubTotalAmount;
            }).ToList();

            foreach ( var item in validPromotions)
                            {
                Debug.WriteLine($"[Valid Promotion] {item.PromotionId} - MinOrder: {item.MinOrderAmount}, SubTotal: {SubTotalAmount}");
            }

            // 3. C·∫≠p nh·∫≠t UI
            Promotions = validPromotions;

            // 4. --- FIX QUAN TR·ªåNG T·∫†I ƒê√ÇY ---
            // Ki·ªÉm tra xem voucher ƒêANG ch·ªçn c√≥ c√≤n n·∫±m trong danh s√°ch m·ªõi l·ªçc kh√¥ng?
            if (SelectedPromotion != null)
            {
                var stillValid = Promotions.Any(p => p.PromotionId == SelectedPromotion.PromotionId);
                if (!stillValid)
                {
                    // N·∫øu voucher ƒëang ch·ªçn kh√¥ng c√≤n h·ª£p l·ªá (v√≠ d·ª•: ƒëang ch·ªçn voucher 200k m√† t·ªïng ti·ªÅn t·ª•t xu·ªëng 0)
                    // -> H·ªßy ch·ªçn ngay l·∫≠p t·ª©c
                    SelectedPromotion = null;
                }
            }

            // X√ìA B·ªé D√íNG: SelectedPromotion = Promotions.FirstOrDefault(); 
            // L√Ω do: ƒê·ª´ng bao gi·ªù t·ª± √Ω ch·ªçn gi√∫p kh√°ch, tr·ª´ khi b·∫°n c√≥ m·ªôt Voucher m·∫∑c ƒë·ªãnh t√™n l√† "Kh√¥ng s·ª≠ d·ª•ng" (ID=0)
        }

        partial void OnSelectedPromotionChanged(Promotion? value)
        {
            OnPropertyChanged(nameof(PromotionInfoVisibility)); 
            CalculateTotal();                                   
        }

        private void OnItemPropertyChanged(object? sender, PropertyChangedEventArgs e)
        {
            if (e.PropertyName == nameof(CreateOrderDetailViewModel.Total)) CalculateTotal();
        }

        private void CalculateTotal()
        {
            // 1. T√≠nh t·ªïng t·∫°m t√≠nh m·ªõi
            SubTotalAmount = Items.Sum(x => x.Total);

            // --- LOGIC M·ªöI: T·ª± ƒë·ªông h·ªßy Voucher n·∫øu kh√¥ng c√≤n ƒë·ªß ƒëi·ªÅu ki·ªán ---
            if(SelectedPromotion != null)
    {
                // Ki·ªÉm tra ngay l·∫≠p t·ª©c: Ti·ªÅn c√≥ ƒë·ªß kh√¥ng?
                if (SubTotalAmount < SelectedPromotion.MinOrderAmount)
                {
                    // N·∫øu kh√¥ng ƒë·ªß (v√≠ d·ª• SubTotal = 0) -> ƒê√Å VƒÇNG voucher ra ngay
                    SelectedPromotion = null;

                    // Debug ƒë·ªÉ b·∫°n ki·ªÉm ch·ª©ng
                    System.Diagnostics.Debug.WriteLine("ƒê√£ g·ª° b·ªè Voucher v√¨ kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán (SubTotal < MinOrder)");

                    // Return ƒë·ªÉ h√†m ch·∫°y l·∫°i t·ª´ ƒë·∫ßu (do SelectedPromotion thay ƒë·ªïi k√≠ch ho·∫°t l·∫°i h√†m n√†y)
                    return;
                }
            }
            // ----------------------------------------------------------------

            // 2. T√≠nh to√°n Discount (Khi code ch·∫°y ƒë·∫øn ƒë√¢y nghƒ©a l√† Voucher ƒë√£ h·ª£p l·ªá ho·∫∑c Null)
            decimal discount = 0;

            if (SelectedPromotion != null && SelectedPromotion.PromotionId != 0)
            {
                // V√¨ ƒë√£ check ·ªü tr√™n r·ªìi n√™n ·ªü ƒë√¢y ch·∫Øc ch·∫Øn SubTotalAmount >= MinOrderAmount
                if (SelectedPromotion.DiscountType == "PERCENTAGE")
                {
                    discount = SubTotalAmount * (decimal)SelectedPromotion.DiscountPercentage;

                    if (SelectedPromotion.MaxDiscountValue > 0 && discount > SelectedPromotion.MaxDiscountValue)
                    {
                        discount = SelectedPromotion.MaxDiscountValue;
                    }
                }
                else
                {
                    discount = SelectedPromotion.DiscountValue;
                }
            }

            // Safety check: Kh√¥ng gi·∫£m qu√° s·ªë ti·ªÅn t·∫°m t√≠nh
            if (discount > SubTotalAmount) discount = SubTotalAmount;

            DiscountAmount = discount;
            TotalAmount = SubTotalAmount - DiscountAmount;

            // C·∫≠p nh·∫≠t UI
            OnPropertyChanged(nameof(SubTotalDisplay));
            OnPropertyChanged(nameof(DiscountAmountDisplay));
            OnPropertyChanged(nameof(TotalAmountDisplay));
        }

        public Visibility PromotionInfoVisibility =>
        SelectedPromotion != null ? Visibility.Visible : Visibility.Collapsed;
        public async Task<bool> CreateOrderAsync()
        {
            // 1. Validate Email (C∆° b·∫£n)
            if (string.IsNullOrWhiteSpace(CustomerEmail))
            {
                // C√≥ th·ªÉ th√™m th√¥ng b√°o l·ªói ·ªü ƒë√¢y n·∫øu c·∫ßn
                System.Diagnostics.Debug.WriteLine("Email kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng");
                return false;
            }

            var validItems = Items.Where(x => x.SelectedProduct != null && x.Quantity > 0).ToList();
            if (!validItems.Any()) return false;

            // 2. T·∫°o Request theo m·∫´u m·ªõi
            var request = new CreateOrderRequest
            {
                Email = CustomerEmail, // ‚úÖ G√°n Email t·ª´ UI

                PromotionId = (SelectedPromotion == null || SelectedPromotion.PromotionId == 0) ? null : SelectedPromotion.PromotionId,
              
                Notes = Note,
                ShippingAddress = string.IsNullOrWhiteSpace(ShipAddress) ? "T·∫°i c·ª≠a h√†ng" : ShipAddress,
                PaymentMethod = "CASH_ON_DELIVERY",

                OrderItems = validItems.Select(x => new CreateOrderItemRequest
                {
                    ProductId = x.SelectedProduct!.ProductId,
                    Quantity = x.Quantity,
                    UnitPrice = x.Price,
                    Discount = 0, // Ho·∫∑c t√≠nh logic discount n·∫øu c√≥
                    TotalPrice = x.Total
                }).ToList()
            };

            Debug.WriteLine($"[CreateOrder] Request: {System.Text.Json.JsonSerializer.Serialize(request)}");
            return await _orderService.CreateOrderAsync(request);
        }



    } // <--- K·∫æT TH√öC CLASS CHA
}
```

### FE\SalesManagement.WinUI\ViewModels\DashboardViewModel.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System;
using System.Net.Http;
using System.Threading.Tasks;

namespace SalesManagement.WinUI.ViewModels
{
    public class DashboardViewModel : BaseViewModel
    {
        private readonly IApiService _apiService;
        private readonly IAuthService _authService;
        private readonly ILoadingService _loadingService;

        private DashboardResponse _dashboardData;
        private bool _isLoading;
        private string _errorMessage;

        public DashboardResponse DashboardData
        {
            get => _dashboardData;
            set => SetProperty(ref _dashboardData, value);
        }

        public bool IsLoading
        {
            get => _isLoading;
            set => SetProperty(ref _isLoading, value);
        }

        public string ErrorMessage
        {
            get => _errorMessage;
            set => SetProperty(ref _errorMessage, value);
        }

        public DashboardViewModel(
            IApiService apiService,
            IAuthService authService,
            ILoadingService loadingService = null)
        {
            _apiService = apiService ?? throw new ArgumentNullException(nameof(apiService));
            _authService = authService ?? throw new ArgumentNullException(nameof(authService));
            _loadingService = loadingService;
            DashboardData = new DashboardResponse();
        }

        public async Task LoadDashboardData()
        {
            IsLoading = true;
            ErrorMessage = string.Empty;

            try
            {
                System.Diagnostics.Debug.WriteLine("=== Loading Dashboard Data ===");

                // Check token first
                var token = _authService.GetAccessToken();
                if (string.IsNullOrEmpty(token))
                {
                    ErrorMessage = "Authentication required. Please log in again.";
                    System.Diagnostics.Debug.WriteLine($"‚ùå {ErrorMessage}");
                    DashboardData = new DashboardResponse();
                    return;
                }

                System.Diagnostics.Debug.WriteLine($"‚úÖ Token found, length: {token.Length}");

                // Make API request
                var response = await _apiService.GetAsync<DashboardResponse>("api/v1/admin/dashboard");

                if (response != null)
                {
                    System.Diagnostics.Debug.WriteLine("‚úÖ Dashboard data received successfully");
                    System.Diagnostics.Debug.WriteLine($"üìä Total Products: {response.TotalProducts}");
                    System.Diagnostics.Debug.WriteLine($"üì¶ Today Orders: {response.TodayOrderCount}");
                    System.Diagnostics.Debug.WriteLine($"üí∞ Today Revenue: {response.TodayRevenue:C}");
                    System.Diagnostics.Debug.WriteLine($"‚ö†Ô∏è Low Stock: {response.LowStockProducts?.Count ?? 0}");
                    System.Diagnostics.Debug.WriteLine($"üî• Top Selling: {response.TopSellingProducts?.Count ?? 0}");
                    System.Diagnostics.Debug.WriteLine($"üìã Recent Orders: {response.RecentOrders?.Count ?? 0}");

                    DashboardData = response;
                }
                else
                {
                    ErrorMessage = "Failed to load dashboard data: empty response";
                    System.Diagnostics.Debug.WriteLine($"‚ö†Ô∏è {ErrorMessage}");
                    DashboardData = new DashboardResponse();
                }
            }
            catch (HttpRequestException ex)
            {
                ErrorMessage = $"Network error: {ex.Message}";
                System.Diagnostics.Debug.WriteLine($"üî¥ HTTP Error: {ex.Message}");
                System.Diagnostics.Debug.WriteLine($"üìç Stack: {ex.StackTrace}");
                DashboardData = new DashboardResponse();
            }
            catch (ArgumentException ex)
            {
                ErrorMessage = $"Request error: {ex.Message}";
                System.Diagnostics.Debug.WriteLine($"üî¥ Argument Error: {ex.Message}");
                DashboardData = new DashboardResponse();
            }
            catch (Exception ex)
            {
                ErrorMessage = $"Unexpected error: {ex.Message}";
                System.Diagnostics.Debug.WriteLine($"üî¥ Unexpected Error: {ex.GetType().Name}");
                System.Diagnostics.Debug.WriteLine($"üìç Message: {ex.Message}");
                System.Diagnostics.Debug.WriteLine($"üìç Stack: {ex.StackTrace}");
                DashboardData = new DashboardResponse();
            }
            finally
            {
                IsLoading = false;
                System.Diagnostics.Debug.WriteLine("=== Loading Complete ===\n");
            }
        }

        public async Task RefreshDashboard()
        {
            await LoadDashboardData();
        }
    }
}
```

### FE\SalesManagement.WinUI\ViewModels\LoginViewModel.cs
```cs
Ôªøusing CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using SalesManagement.WinUI.Services.Interfaces;
using System.Reflection;

namespace SalesManagement.WinUI.ViewModels;

public partial class LoginViewModel : ObservableObject
{
    private readonly IAuthService _authService;
    private readonly IStorageService _storageService;

    public LoginViewModel(IAuthService authService, IStorageService storageService)
    {
        _authService = authService;
        _storageService = storageService;

        // Get app version
        var version = Assembly.GetExecutingAssembly().GetName().Version;
        AppVersion = version != null
            ? $"Version {version.Major}.{version.Minor}.{version.Build}"
            : "Version 1.0.0";
    }

    [ObservableProperty]
    private string _username = string.Empty;

    [ObservableProperty]
    private string _password = string.Empty;

    [ObservableProperty]
    private bool _rememberMe = false;

    [ObservableProperty]
    private bool _isLoading = false;

    [ObservableProperty]
    private string _errorMessage = string.Empty;

    [ObservableProperty]
    private string _appVersion = string.Empty;

    [ObservableProperty]
    private bool _hasError = false;

    // Event for navigation
    public event EventHandler<bool>? LoginCompleted;

    [RelayCommand]
    private async Task LoginAsync()
    {
        // Clear previous errors
        ErrorMessage = string.Empty;
        HasError = false;

        // Validate input
        if (string.IsNullOrWhiteSpace(Username))
        {
            ErrorMessage = "Please enter your username";
            HasError = true;
            return;
        }

        if (string.IsNullOrWhiteSpace(Password))
        {
            ErrorMessage = "Please enter your password";
            HasError = true;
            return;
        }

        IsLoading = true;

        try
        {
            var (success, errorMessage, user) = await _authService.LoginAsync(Username, Password);

            if (success && user != null)
            {
                // Save credentials if remember me is checked
                if (RememberMe)
                {
                    await _storageService.SaveCredentialsAsync(Username, Password, RememberMe);
                }
                else
                {
                    await _storageService.ClearCredentialsAsync();
                }

                // Raise login completed event
                LoginCompleted?.Invoke(this, true);
            }
            else
            {
                ErrorMessage = errorMessage;
                HasError = true;
            }
        }
        catch (Exception ex)
        {
            ErrorMessage = $"An unexpected error occurred: {ex.Message}";
            HasError = true;
        }
        finally
        {
            IsLoading = false;
        }
    }

    [RelayCommand]
    private void NavigateToConfig()
    {
        // TODO: Navigate to config screen
    }

    public async Task TryAutoLoginAsync()
    {
        try
        {
            var credentials = await _storageService.GetStoredCredentialsAsync();

            if (credentials != null && credentials.RememberMe)
            {
                Username = credentials.Username;
                Password = credentials.EncryptedPassword;
                RememberMe = true;

                // Validate stored token
                var isValid = await _authService.ValidateTokenAsync(credentials.EncryptedPassword);

                if (isValid)
                {
                    // Auto login
                    await LoginAsync();
                }
            }
        }
        catch (Exception ex)
        {
            System.Diagnostics.Debug.WriteLine($"Auto login failed: {ex.Message}");
        }
    }

    partial void OnUsernameChanged(string value)
    {
        // Clear error when user starts typing
        if (HasError)
        {
            ErrorMessage = string.Empty;
            HasError = false;
        }
    }

    partial void OnPasswordChanged(string value)
    {
        // Clear error when user starts typing
        if (HasError)
        {
            ErrorMessage = string.Empty;
            HasError = false;
        }
    }
}
```

### FE\SalesManagement.WinUI\ViewModels\MainViewModel.cs
```cs
Ôªøusing CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.Views;
using System.Collections.ObjectModel;

namespace SalesManagement.WinUI.ViewModels;

public partial class MainViewModel : ObservableObject
{
    private readonly IAuthService _authService;
    private readonly INavigationService _navigationService;
    private readonly ILoadingService _loadingService; 

    // Danh s√°ch menu
    public ObservableCollection<AppMenuItem> MainMenuItems { get; } = new();
    public ObservableCollection<AppMenuItem> FooterMenuItems { get; } = new();

    // Item ƒëang ƒë∆∞·ª£c ch·ªçn
    [ObservableProperty]
    private AppMenuItem? _selectedMenuItem;

    public MainViewModel(IAuthService authService,
                         INavigationService navigationService,
                         ILoadingService loadingService)
    {
        _authService = authService;
        _navigationService = navigationService;
        _loadingService = loadingService;

        LoadMenu();
    }

    private void LoadMenu()
    {
        MainMenuItems.Add(new AppMenuItem
        {
            Title = "T·ªïng quan",
            Icon = Symbol.Home,
            PageType = typeof(DashboardPage),
            ShowHeader = true
        });

        MainMenuItems.Add(new AppMenuItem
        {
            Title = "S·∫£n ph·∫©m",
            Icon = Symbol.Tag, 
            PageType = typeof(ProductPage),
            ShowHeader = false
        });

        MainMenuItems.Add(new AppMenuItem
        {
            Title = "ƒê∆°n h√†ng",
            Icon = Symbol.List, 
            PageType = typeof(OrderPage), 
            ShowHeader = false
        });

        MainMenuItems.Add(new AppMenuItem
        {
            Title = "B√°o c√°o",
            Icon = Symbol.FourBars, 
            PageType = typeof(ReportPage),
            ShowHeader = false
        });

        MainMenuItems.Add(new AppMenuItem
        {
            Title = "Kh√°ch h√†ng",   
            Icon = Symbol.People,
            PageType = typeof(CustomerPage),
            ShowHeader = false
        });

        MainMenuItems.Add(new AppMenuItem
        {
            Title = "C√†i ƒë·∫∑t",
            Icon = Symbol.Setting,
            PageType = typeof(SettingsPage),
            ShowHeader = false
        });




        FooterMenuItems.Add(new AppMenuItem { Title = "ƒêƒÉng xu·∫•t", Icon = Symbol.Contact, Tag = "Logout" });

        // Ch·ªçn trang ƒë·∫ßu ti√™n
        SelectedMenuItem = MainMenuItems.FirstOrDefault();
    }

    // Command x·ª≠ l√Ω khi menu thay ƒë·ªïi
    // H√†m n√†y s·∫Ω ƒë∆∞·ª£c g·ªçi khi View thay ƒë·ªïi SelectedItem
    partial void OnSelectedMenuItemChanged(AppMenuItem? value)
    {
        if (value == null) return;

        if (value.Tag == "Logout")
        {
            LogoutCommand.Execute(null);
        }
        else if (value.PageType != null)
        {
            _navigationService.NavigateTo(value.PageType);
            _navigationService.SetHeader(value.Title ?? string.Empty);

            string? headerText = value.ShowHeader ? value.Title : null;

            _navigationService.SetHeader(headerText);
        }
    }

    [RelayCommand]
    private async Task LogoutAsync()
    {
        // G·ªçi Service hi·ªÉn th·ªã Dialog 
        await _loadingService.ShowAsync("ƒêang ƒëƒÉng xu·∫•t...");
        try
        {
            await _authService.LogoutAsync();
            // ƒêi·ªÅu h∆∞·ªõng v·ªÅ Login 
            if (App.MainWindow.Content is Frame rootFrame)
            {
                rootFrame.Navigate(typeof(LoginPage));
                rootFrame.BackStack.Clear();
            }
        }
        finally
        {
            _loadingService.Hide();
        }
    }
}
```

### FE\SalesManagement.WinUI\ViewModels\OrderViewModel.cs
```cs
Ôªøusing CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using Microsoft.UI.Dispatching;
using Microsoft.UI.Xaml.Media;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services;
using SalesManagement.WinUI.Services.Interfaces;
using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Diagnostics;
using System.Linq;
using System.Threading.Tasks;
using Windows.UI;

namespace SalesManagement.WinUI.ViewModels
{
   
    
    public class DetailItemViewModel : ObservableObject
    {
        private readonly OrderDetail _model;

        public DetailItemViewModel(OrderDetail model)
        {
            _model = model;
        }

        public string ProductName => _model.ProductName;
        public int Quantity
        {
            get => _model.Quantity;
            set
            {
                if (_model.Quantity != value)
                {
                    // C·∫≠p nh·∫≠t gi√° tr·ªã v√†o Model
                    _model.Quantity = value;

                    // Th√¥ng b√°o cho UI bi·∫øt Quantity ƒë√£ ƒë·ªïi
                    OnPropertyChanged(nameof(Quantity));

                    // 3. Quan tr·ªçng: Th√¥ng b√°o cho UI t√≠nh l·∫°i Th√†nh Ti·ªÅn ngay l·∫≠p t·ª©c
                    OnPropertyChanged(nameof(TotalDisplay));
                }
            }
        }
        public string PriceDisplay => _model.Price.ToString("N0");
        public string TotalDisplay => (_model.Quantity * _model.Price).ToString("N0");
    }

    
    public partial class OrderItemViewModel : ObservableObject
    {
        private readonly IOrderService _orderService;
        public Order Model { get; }


        private readonly Func<OrderItemViewModel, Task>? _editAction;
        private readonly Func<OrderItemViewModel, Task>? _deleteAction;

        
        public ObservableCollection<DetailItemViewModel> OrderItems { get; } = new();

        public OrderItemViewModel(Order model,
                                IOrderService orderService,
                                Func<OrderItemViewModel, Task>? editAction = null,
                                Func<OrderItemViewModel, Task>? deleteAction = null)
        {
            Model = model;
            _orderService = orderService;
            _editAction = editAction;
            _deleteAction = deleteAction;
          
        }

        
        public void LoadDetails(List<OrderDetail> details)
        {
            OrderItems.Clear();
            if (details != null)
            {
                foreach (var item in details)
                {
                    OrderItems.Add(new DetailItemViewModel(item));
                }
            }
        }

      
        public string OrderId => Model.Id.ToString();
        public string DateDisplay => Model.Date.ToString("dd/MM/yyyy");
        public string ItemsCountDisplay => $"{Model.ItemsCount} m·∫∑t h√†ng"; // L·∫•y t·ª´ s·ªë t·ªïng h·ª£p
        public string AmountDisplay => Model.Amount.ToString("N0");       // L·∫•y t·ª´ s·ªë t·ªïng h·ª£p
        public string Status
        {
            get => Model.Status;
            set
            {
                if (Model.Status != value)
                {
                    SetProperty(Model.Status, value, model => Model.Status = model, value);

                    Model.Status = value;
                    OnPropertyChanged(nameof(Status));
                    OnPropertyChanged(nameof(StatusColor)); 
                    OnPropertyChanged(nameof(StatusBorder)); 
                }
            }
        }
        public string DialogTitle => $"Chi ti·∫øt ƒë∆°n h√†ng {Model.OrderCode}";

       
        public Brush StatusColor
        {
            get
            {
                if (Status == "ƒê√£ thanh to√°n") return new SolidColorBrush(Color.FromArgb(40, 34, 197, 94));
                if (Status == "ƒê√£ h·ªßy") return new SolidColorBrush(Color.FromArgb(40, 239, 68, 68));
                return new SolidColorBrush(Color.FromArgb(40, 33, 150, 243));
            }
        }

        public Brush StatusBorder
        {
            get
            {
                if (Status == "ƒê√£ thanh to√°n") return new SolidColorBrush(Color.FromArgb(255, 21, 128, 61));
                if (Status == "ƒê√£ h·ªßy") return new SolidColorBrush(Color.FromArgb(255, 185, 28, 28));
                return new SolidColorBrush(Color.FromArgb(255, 30, 136, 229));
            }
        }


        public DateTimeOffset DateOffset
        {
            get => new DateTimeOffset(Model.Date);
            set
            {
               
                if (Model.Date != value.DateTime)
                {
                    Model.Date = value.DateTime;

                    
                    OnPropertyChanged(nameof(DateOffset));
                    OnPropertyChanged(nameof(DateDisplay)); 
                }
            }
        }

        public double AmountDouble
        {
            get => (double)Model.Amount;
            set
            {
               
                var decimalValue = (decimal)value;

                if (Model.Amount != decimalValue)
                {
                    Model.Amount = decimalValue;

                    OnPropertyChanged(nameof(AmountDouble));
                    OnPropertyChanged(nameof(AmountDisplay)); 
                   
                }
            }
        }

        public async Task<bool> SaveAsync(double tempAmount, string tempStatus, DateTimeOffset tempDate)
        {
            try
            {
               
                this.AmountDouble = tempAmount;
                this.Status = tempStatus;
                this.DateOffset = tempDate;

               
                return await _orderService.UpdateOrderAsync(this.Model);
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine(ex.Message);
                return false;
            }
        }

        [RelayCommand]
        private async Task Edit()
        {
            if (_editAction != null) await _editAction(this);
        }

        [RelayCommand]
        private async Task Delete()
        {
            if (_deleteAction != null) await _deleteAction(this);
        }

        [RelayCommand]
        private async Task Print()
        {
            // G·ªçi API k√≠ch ho·∫°t in
            bool success = await _orderService.PrintOrderAsync(OrderId);

            if (success)
            {
                // T√πy ch·ªçn: Hi·ªán th√¥ng b√°o th√†nh c√¥ng (n·∫øu App c√≥ InfoBar ho·∫∑c Toast)
                System.Diagnostics.Debug.WriteLine("ƒê√£ g·ª≠i l·ªánh in!");
            }
            else
            {
                System.Diagnostics.Debug.WriteLine("G·ª≠i l·ªánh in th·∫•t b·∫°i.");
            }
        }

    }

    
    public partial class OrderViewModel : ObservableObject
    {
        private readonly IOrderService _orderService;
        private readonly IDialogService _dialogService;

        private readonly CreateOrderViewModel _createOrderVM;


        private List<OrderItemViewModel> _allOrders = new();
        private const int _pageSize = 7;
        private bool _isProcessingAction = false; // Th√™m flag ƒë·ªÉ tr√°nh x·ª≠ l√Ω SelectedOrder khi ƒëang Edit/Delete


        // Data Sources
        [ObservableProperty] private ObservableCollection<OrderItemViewModel> _displayOrders = new();

        // Pagination Properties
        [ObservableProperty] private int _currentPage = 1;
        [ObservableProperty] private int _totalCount = 0; // T·ªïng s·ªë b·∫£n ghi server b√°o v·ªÅ
        [ObservableProperty] private string _paginationStatusText = string.Empty;
        [ObservableProperty] private bool _canGoNext;
        [ObservableProperty] private bool _canGoPrevious;

        // Stats Properties
        [ObservableProperty] private int _totalOrdersCount;
        [ObservableProperty] private string _totalRevenueDisplay = "0 ƒë";
        [ObservableProperty] private int _pendingOrdersCount;

        // Filter Properties
        public ObservableCollection<string> StatusFilters { get; } = new() { "T·∫•t c·∫£", "M·ªõi t·∫°o", "ƒê√£ thanh to√°n", "ƒê√£ h·ªßy" };

        [ObservableProperty] private string _selectedStatusFilter = "T·∫•t c·∫£";
        [ObservableProperty] private DateTimeOffset? _filterFromDate;
        [ObservableProperty] private DateTimeOffset? _filterToDate;

        // Selection & Loading
        [ObservableProperty] private OrderItemViewModel? _selectedOrder;
        [ObservableProperty] private bool _isLoading;

        public OrderViewModel(IOrderService orderService, IDialogService dialogService, CreateOrderViewModel createOrderVM)
        {
            _orderService = orderService;
            _dialogService = dialogService;
            
            _createOrderVM = createOrderVM;
            LoadDataAsync(1);
        }

        partial void OnSelectedStatusFilterChanged(string value) => LoadDataAsync(1);

       
        partial void OnFilterFromDateChanged(DateTimeOffset? value) => LoadDataAsync(1);
        partial void OnFilterToDateChanged(DateTimeOffset? value) => LoadDataAsync(1);

        async partial void OnSelectedOrderChanged(OrderItemViewModel? value)
        {
          
            if (_isProcessingAction || value == null)
            {
                return;
            }

            try
            {
              
                IsLoading = true;

               
                var details = await _orderService.GetOrderDetailsAsync(value.OrderId);

               
                value.LoadDetails(details);

               
                await _dialogService.ShowOrderDetailDialogAsync(value);
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"L·ªói t·∫£i chi ti·∫øt: {ex.Message}");
            }
            finally
            {
                IsLoading = false;
               
                DispatcherQueue.GetForCurrentThread().TryEnqueue(() => { SelectedOrder = null; });
            }
        }

        public async void LoadDataAsync(int pageNumber = 1)
        {
            if (IsLoading) return;
            IsLoading = true;

            try
            {
                CurrentPage = pageNumber;

                
                string status = SelectedStatusFilter;
                DateTime? from = FilterFromDate?.DateTime;
                DateTime? to = FilterToDate?.DateTime;

                
                var (items, count, revenue, pending) = await _orderService.GetOrdersAsync(CurrentPage, _pageSize, status, from, to);

               
                DisplayOrders.Clear();
                foreach (var item in items)
                {
                    DisplayOrders.Add(new OrderItemViewModel(item, _orderService, EditOrder, DeleteOrder));
                }

                
                TotalCount = count;
                TotalOrdersCount = count;
                TotalRevenueDisplay = revenue.ToString("N0") + " ƒë";
                PendingOrdersCount = pending;

                UpdatePaginationUI();
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine("Error: " + ex.Message);
            }
            finally
            {
                IsLoading = false;
            }
        }

        private void UpdatePaginationUI()
        {
            int totalPages = (int)Math.Ceiling((double)TotalCount / _pageSize);

            // T√≠nh to√°n text hi·ªÉn th·ªã (V√≠ d·ª•: 1 - 7 trong 25)
            int startCount = TotalCount == 0 ? 0 : (CurrentPage - 1) * _pageSize + 1;
            int endCount = Math.Min(CurrentPage * _pageSize, TotalCount);

            PaginationStatusText = $"Hi·ªÉn th·ªã {startCount} - {endCount} trong {TotalCount} ƒë∆°n h√†ng";

            CanGoPrevious = CurrentPage > 1;
            CanGoNext = CurrentPage < totalPages;
        }

        private void CalculateStats()
        {
            TotalOrdersCount = _allOrders.Count;
            
            decimal totalRevenue = _allOrders.Sum(x => x.Model.Amount);
            TotalRevenueDisplay = totalRevenue.ToString("N0") + " ƒë";
            PendingOrdersCount = _allOrders.Count(x => x.Status == "M·ªõi t·∫°o" || x.Status == "ƒêang x·ª≠ l√Ω");
        }

        
        private void UpdatePagination()
        {
            int totalPages = (int)Math.Ceiling((double)_allOrders.Count / _pageSize);
            if (CurrentPage < 1) CurrentPage = 1;
            if (CurrentPage > totalPages && totalPages > 0) CurrentPage = totalPages;

            var pageData = _allOrders.Skip((CurrentPage - 1) * _pageSize).Take(_pageSize).ToList();
            DisplayOrders.Clear();
            foreach (var item in pageData) DisplayOrders.Add(item);

            int startCount = _allOrders.Count == 0 ? 0 : (CurrentPage - 1) * _pageSize + 1;
            int endCount = Math.Min(CurrentPage * _pageSize, _allOrders.Count);
            PaginationStatusText = $"Hi·ªÉn th·ªã {startCount} - {endCount} trong {_allOrders.Count} ƒë∆°n h√†ng";
            CanGoPrevious = CurrentPage > 1;
            CanGoNext = CurrentPage < totalPages;
        }

        [RelayCommand]
        private void NextPage()
        {
            if (CanGoNext) LoadDataAsync(CurrentPage + 1);
        }

        [RelayCommand]
        private void PreviousPage()
        {
            if (CanGoPrevious) LoadDataAsync(CurrentPage - 1);
        }

        [RelayCommand]
        private void ClearFilter()
        {
            // Reset c√°c bi·∫øn Filter, c√°c h√†m OnChanged s·∫Ω t·ª± ƒë·ªông g·ªçi LoadDataAsync(1)
            _isProcessingAction = true; // Ch·∫∑n reload li√™n t·ª•c n·∫øu mu·ªën, nh∆∞ng ·ªü ƒë√¢y ƒë·ªÉ ƒë∆°n gi·∫£n c·ª© ƒë·ªÉ n√≥ ch·∫°y
            SelectedStatusFilter = "T·∫•t c·∫£";
            FilterFromDate = null;
            FilterToDate = null;
            LoadDataAsync(1); // G·ªçi t∆∞·ªùng minh ƒë·ªÉ ch·∫Øc ch·∫Øn
        }

        [RelayCommand]
        private async Task EditOrder(OrderItemViewModel item)
        {
            if (item == null) return;

            _isProcessingAction = true; // C·ªù ch·∫∑n logic SelectionChanged
            try
            {
               
                IsLoading = true; // Hi·ªÉn th·ªã v√≤ng xoay loading

                
                var details = await _orderService.GetOrderDetailsAsync(item.OrderId);

                
                item.LoadDetails(details);

                IsLoading = false; 


               
                bool isSaved = await _dialogService.ShowEditOrderDialogAsync(item);

                if (isSaved)
                {
                    await RefreshAfterEdit();
                }
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"L·ªói khi m·ªü s·ª≠a ƒë∆°n h√†ng: {ex.Message}");
                IsLoading = false;
               
            }
            finally
            {
                _isProcessingAction = false;
                
                DispatcherQueue.GetForCurrentThread().TryEnqueue(() => { SelectedOrder = null; });
            }
        }

        [RelayCommand]
        private async Task DeleteOrder(OrderItemViewModel item)
        {
            if (item == null) return;

            // 1. H·ªèi x√°c nh·∫≠n
            bool isConfirmed = await _dialogService.ShowConfirmationAsync(
                "X√°c nh·∫≠n x√≥a",
                $"B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ƒë∆°n h√†ng ?", // D√πng OrderCodeDisplay cho ƒë·∫πp
                "X√≥a",
                "H·ªßy");

            if (!isConfirmed) return;

            // 2. Th·ª±c hi·ªán x√≥a
            // L∆∞u √Ω: Kh√¥ng b·∫≠t IsLoading ·ªü ƒë√¢y v·ªôi, ƒë·ªÉ LoadDataAsync lo
            try
            {
                bool success = await _orderService.DeleteOrderAsync(item.OrderId);

                if (success)
                {
                    // --- LOGIC X·ª¨ L√ù TRANG (QUAN TR·ªåNG) ---

                    // N·∫øu item b·ªã x√≥a l√† item CU·ªêI C√ôNG c·ªßa trang hi·ªán t·∫°i
                    // V√Ä ch√∫ng ta ƒëang ·ªü trang > 1
                    // TH√å ph·∫£i l√πi v·ªÅ trang tr∆∞·ªõc ƒë√≥.
                    if (DisplayOrders.Count == 1 && CurrentPage > 1)
                    {
                        CurrentPage--;
                    }

                    // G·ªçi h√†m LoadDataAsync ƒë·ªÉ t·∫£i l·∫°i d·ªØ li·ªáu m·ªõi t·ª´ Server
                    // H√†m n√†y s·∫Ω t·ª± lo vi·ªác hi·ªÉn th·ªã Loading v√† c·∫≠p nh·∫≠t danh s√°ch
                    LoadDataAsync(CurrentPage);
                }
                else
                {
                    System.Diagnostics.Debug.WriteLine($"X√≥a th·∫•t b·∫°i order {item.OrderId}");
                    // C√≥ th·ªÉ hi·ªán th√¥ng b√°o l·ªói ·ªü ƒë√¢y
                }
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"L·ªói x√≥a: {ex.Message}");
            }
            // Kh√¥ng c·∫ßn finally { IsLoading = false } v√¨ LoadDataAsync s·∫Ω l√†m vi·ªác ƒë√≥
        }

        [RelayCommand]
        private async Task CreateNewOrder()
        {
            // M·ªü dialog
            bool created = await _dialogService.ShowCreateOrderDialogAsync(_createOrderVM);

            if (created)
            {
                _createOrderVM.ResetData();
                LoadDataAsync();
            }
        }
        public async Task RefreshAfterEdit()
        {
            
            LoadDataAsync();
            
        }

    }
}
```

### FE\SalesManagement.WinUI\ViewModels\ProductViewModel.cs
```cs
Ôªø// FE/SalesManagement.WinUI/ViewModels/ProductViewModel.cs
// C·∫≠p nh·∫≠t ƒë·ªÉ s·ª≠ d·ª•ng Settings

using CommunityToolkit.Mvvm.Input;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Collections.ObjectModel;

namespace SalesManagement.WinUI.ViewModels
{
    public class ProductViewModel : BaseViewModel
    {
        private readonly ICategoryService _categoryService;
        private readonly IProductService _productService;
        private readonly INavigationService _navigationService;
        private readonly IStorageService _storageService; // ‚≠ê TH√äM M·ªöI

        // ===== CATEGORY =====
        public ObservableCollection<Category> Categories { get; } = new();

        private Category? _selectedCategory;
        public Category? SelectedCategory
        {
            get => _selectedCategory;
            set
            {
                if (SetProperty(ref _selectedCategory, value))
                {
                    Page = 1;
                    ApplyFilterAndPaging();
                }
            }
        }

        // ===== PRICE FILTER =====
        private string? _selectedPriceFilter = "0-999999999";
        public string? SelectedPriceFilter
        {
            get => _selectedPriceFilter;
            set
            {
                if (SetProperty(ref _selectedPriceFilter, value))
                {
                    Page = 1;
                    ApplyFilterAndPaging();
                }
            }
        }

        // ===== PRODUCT =====
        private readonly ObservableCollection<Product> _allProducts = new();
        public ObservableCollection<Product> Products { get; } = new();

        // ===== SEARCH =====
        private string _searchText = string.Empty;
        public string SearchText
        {
            get => _searchText;
            set
            {
                if (SetProperty(ref _searchText, value))
                {
                    Page = 1;
                    ApplyFilterAndPaging();
                }
            }
        }

        // ===== PAGINATION =====
        private int _page = 1;
        public int Page
        {
            get => _page;
            set
            {
                if (SetProperty(ref _page, value))
                {
                    ApplyFilterAndPaging();
                    UpdatePagingCommandState();
                }
            }
        }

        private int _totalPages = 1;
        public int TotalPages
        {
            get => _totalPages;
            set
            {
                if (SetProperty(ref _totalPages, value))
                {
                    UpdatePagingCommandState();
                }
            }
        }

        // ‚≠ê TH√äM M·ªöI - Dynamic Page Size
        private int _pageSize = 20;
        public int PageSize
        {
            get => _pageSize;
            set => SetProperty(ref _pageSize, value);
        }

        // ===== COMMAND =====
        public RelayCommand NextPageCommand { get; }
        public RelayCommand PrevPageCommand { get; }
        public RelayCommand OpenAddProductCommand { get; }

        // ===== CTOR =====
        public ProductViewModel(
            ICategoryService categoryService,
            IProductService productService,
            INavigationService navigationService,
            IStorageService storageService) // ‚≠ê INJECT M·ªöI
        {
            _categoryService = categoryService;
            _productService = productService;
            _navigationService = navigationService;
            _storageService = storageService; // ‚≠ê L∆ØU

            PrevPageCommand = new RelayCommand(
                () => Page--,
                () => Page > 1);

            NextPageCommand = new RelayCommand(
                () => Page++,
                () => Page < TotalPages);

            OpenAddProductCommand = new RelayCommand(OpenAddProduct);

            _ = InitializeAsync(); // ‚≠ê THAY TH·∫æ
        }

        // ‚≠ê TH√äM M·ªöI - Initialize v·ªõi Settings
        private async Task InitializeAsync()
        {
            // Load settings tr∆∞·ªõc
            var settings = await _storageService.GetAppSettingsAsync();
            PageSize = settings.ItemsPerPage;

            // Sau ƒë√≥ load data
            await LoadCategoriesAsync();
            await LoadProductsAsync();
        }

        // ===== OPEN ADD PRODUCT PAGE =====
        private void OpenAddProduct()
        {
            _navigationService.NavigateTo(typeof(Views.AddProductPage));
        }

        // ===== LOAD CATEGORY =====
        private async Task LoadCategoriesAsync()
        {
            var data = await _categoryService.GetAllAsync();
            if (data == null) return;

            Categories.Clear();

            Categories.Add(new Category
            {
                CategoryId = -1,
                CategoryName = "T·∫•t c·∫£"
            });

            foreach (var item in data)
                Categories.Add(item);

            SelectedCategory = Categories.First();
        }

        // ===== LOAD PRODUCT =====
        private async Task LoadProductsAsync()
        {
            var result = await _productService.GetProductsAsync();
            if (result == null) return;

            _allProducts.Clear();

            foreach (var product in result.Products)
            {
                if (product.IsActive)
                {
                    _allProducts.Add(product);
                }
            }

            Page = 1;
            ApplyFilterAndPaging();
        }

        // ===== FILTER + PAGING =====
        private void ApplyFilterAndPaging()
        {
            IEnumerable<Product> query = _allProducts;

            // Filter by category
            if (SelectedCategory != null && SelectedCategory.CategoryId != -1)
                query = query.Where(p => p.Category?.CategoryId == SelectedCategory.CategoryId);

            // Filter by search
            if (!string.IsNullOrWhiteSpace(SearchText))
                query = query.Where(p =>
                    p.ProductName != null &&
                    p.ProductName.Contains(SearchText, StringComparison.OrdinalIgnoreCase));

            // Filter by price
            if (!string.IsNullOrEmpty(SelectedPriceFilter))
            {
                var parts = SelectedPriceFilter.Split('-');
                if (parts.Length == 2 &&
                    decimal.TryParse(parts[0], out var minP) &&
                    decimal.TryParse(parts[1], out var maxP))
                {
                    query = query.Where(p => p.Price >= minP && p.Price <= maxP);
                }
            }

            // ‚≠ê S·ª¨ D·ª§NG PageSize ƒê·ªòNG
            var count = query.Count();
            TotalPages = Math.Max(1, (int)Math.Ceiling(count / (double)PageSize));

            if (Page > TotalPages)
                Page = 1;

            Products.Clear();
            foreach (var item in query
                .Skip((Page - 1) * PageSize)
                .Take(PageSize))
                Products.Add(item);
        }

        private void UpdatePagingCommandState()
        {
            PrevPageCommand.NotifyCanExecuteChanged();
            NextPageCommand.NotifyCanExecuteChanged();
        }
    }
}
```

### FE\SalesManagement.WinUI\ViewModels\ReportViewModel.cs
```cs
Ôªøusing SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Runtime.CompilerServices;

namespace SalesManagement.WinUI.ViewModels
{
    public class ReportViewModel : INotifyPropertyChanged
    {
        private readonly IReportService _reportService;

        private DateTimeOffset _startDate;
        private DateTimeOffset _endDate;
        private bool _isLoading;

        public ReportViewModel(IReportService reportService)
        {
            _reportService = reportService;

            // M·∫∑c ƒë·ªãnh: ƒë·∫ßu nƒÉm hi·ªán t·∫°i ƒë·∫øn ng√†y hi·ªán t·∫°i
            var today = DateTime.Today;
            _startDate = new DateTimeOffset(new DateTime(today.Year, 1, 1));
            _endDate = new DateTimeOffset(today);
        }

        public DateTimeOffset StartDate
        {
            get => _startDate;
            set
            {
                _startDate = value;
                OnPropertyChanged();
            }
        }

        public DateTimeOffset EndDate
        {
            get => _endDate;
            set
            {
                _endDate = value;
                OnPropertyChanged();
            }
        }

        public bool IsLoading
        {
            get => _isLoading;
            set
            {
                _isLoading = value;
                OnPropertyChanged();
            }
        }

        // Revenue Collections
        public ObservableCollection<ReportRevenueDaily> RevenueDaily { get; } = new();
        public ObservableCollection<ReportRevenueWeekly> RevenueWeekly { get; } = new();
        public ObservableCollection<ReportRevenueMonth> RevenueMonth { get; } = new();
        public ObservableCollection<ReportRevenueYear> RevenueYear { get; } = new();

        // Product Collections
        public ObservableCollection<ReportProductDaily> ProductDaily { get; } = new();
        public ObservableCollection<ReportProductWeekly> ProductWeekly { get; } = new();
        public ObservableCollection<ReportProductMonth> ProductMonth { get; } = new();
        public ObservableCollection<ReportProductYear> ProductYear { get; } = new();
        public ObservableCollection<ReportProductSales> ProductSales { get; } = new();

        // Current Period Data
        public ReportRevenueCurrentYear? CurrentYearData { get; private set; }
        public ReportRevenueCurrentYear? CurrentMonthData { get; private set; }

        public async Task LoadReportAsync()
        {
            IsLoading = true;

            try
            {
                ClearAllCollections();

                var start = StartDate.DateTime;
                var end = EndDate.DateTime;

                // Load t·∫•t c·∫£ d·ªØ li·ªáu song song
                var tasks = new List<Task>
                {
                    LoadRevenueDailyAsync(start, end),
                    LoadRevenueWeeklyAsync(start, end),
                    LoadRevenueMonthAsync(start, end),
                    LoadRevenueYearAsync(start, end),
                    LoadProductDailyAsync(start, end),
                    LoadProductWeeklyAsync(start, end),
                    LoadProductMonthAsync(start, end),
                    LoadProductYearAsync(start, end),
                    LoadProductSalesAsync(start, end),
                    LoadCurrentYearDataAsync(),
                    LoadCurrentMonthDataAsync()
                };

                await Task.WhenAll(tasks);
            }
            finally
            {
                IsLoading = false;
            }
        }

        private void ClearAllCollections()
        {
            RevenueDaily.Clear();
            RevenueWeekly.Clear();
            RevenueMonth.Clear();
            RevenueYear.Clear();
            ProductDaily.Clear();
            ProductWeekly.Clear();
            ProductMonth.Clear();
            ProductYear.Clear();
            ProductSales.Clear();
        }

        private async Task LoadRevenueDailyAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetRevenueByDailyAsync(start, end);
            foreach (var item in data)
                RevenueDaily.Add(item);
        }

        private async Task LoadRevenueWeeklyAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetRevenueByWeeklyAsync(start, end);
            foreach (var item in data)
                RevenueWeekly.Add(item);
        }

        private async Task LoadRevenueMonthAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetRevenueByMonthAsync(start, end);
            foreach (var item in data)
                RevenueMonth.Add(item);
        }

        private async Task LoadRevenueYearAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetRevenueByYearAsync(start, end);
            foreach (var item in data)
                RevenueYear.Add(item);
        }

        private async Task LoadProductDailyAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetProductReportByDailyAsync(start, end);
            foreach (var item in data)
                ProductDaily.Add(item);
        }

        private async Task LoadProductWeeklyAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetProductReportByWeeklyAsync(start, end);
            foreach (var item in data)
                ProductWeekly.Add(item);
        }

        private async Task LoadProductMonthAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetProductReportByMonthAsync(start, end);
            foreach (var item in data)
                ProductMonth.Add(item);
        }

        private async Task LoadProductYearAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetProductReportByYearAsync(start, end);
            foreach (var item in data)
                ProductYear.Add(item);
        }

        private async Task LoadProductSalesAsync(DateTime start, DateTime end)
        {
            var data = await _reportService.GetProductSalesAsync(start, end);
            foreach (var item in data)
                ProductSales.Add(item);
        }

        private async Task LoadCurrentYearDataAsync()
        {
            CurrentYearData = await _reportService.GetRevenueCurrentYearAsync();
            OnPropertyChanged(nameof(CurrentYearData));
        }

        private async Task LoadCurrentMonthDataAsync()
        {
            CurrentMonthData = await _reportService.GetRevenueCurrentMonthAsync();
            OnPropertyChanged(nameof(CurrentMonthData));
        }

        public event PropertyChangedEventHandler? PropertyChanged;

        private void OnPropertyChanged([CallerMemberName] string? name = null)
            => PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(name));
    }
}
```

### FE\SalesManagement.WinUI\ViewModels\SettingsViewModel.cs
```cs
Ôªø// FE/SalesManagement.WinUI/ViewModels/SettingsViewModel.cs
using CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using Microsoft.UI.Xaml;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Collections.ObjectModel;

namespace SalesManagement.WinUI.ViewModels
{
    public partial class SettingsViewModel : ObservableObject
    {
        private readonly IStorageService _storageService;
        private AppSettings _originalSettings = new();

        // ===== DANH S√ÅCH L·ª∞A CH·ªåN =====
        public ObservableCollection<int> PageSizeOptions { get; } = new()
        {
            5, 10, 15, 20
        };

        public ObservableCollection<string> ThemeOptions { get; } = new()
        {
            "Light", "Dark", "System"
        };

        // ===== PROPERTIES =====
        [ObservableProperty]
        private int _selectedPageSize = 20;

        [ObservableProperty]
        private bool _rememberLastScreen = true;

        [ObservableProperty]
        private string _selectedTheme = "Light";

        [ObservableProperty]
        private string _statusMessage = string.Empty;

        [ObservableProperty]
        private bool _hasChanges = false;

        // ===== COMMANDS =====
        public IAsyncRelayCommand SaveCommand { get; }
        public IAsyncRelayCommand ResetCommand { get; }
        public IRelayCommand CancelCommand { get; }

        public SettingsViewModel(IStorageService storageService)
        {
            _storageService = storageService;

            SaveCommand = new AsyncRelayCommand(SaveSettingsAsync);
            ResetCommand = new AsyncRelayCommand(ResetSettingsAsync);
            CancelCommand = new RelayCommand(CancelChanges);

            _ = LoadSettingsAsync();
        }

        // ===== LOAD SETTINGS =====
        private async Task LoadSettingsAsync()
        {
            try
            {
                var settings = await _storageService.GetAppSettingsAsync();

                _originalSettings = new AppSettings
                {
                    ItemsPerPage = settings.ItemsPerPage,
                    RememberLastScreen = settings.RememberLastScreen,
                    Theme = settings.Theme
                };

                SelectedPageSize = settings.ItemsPerPage;
                RememberLastScreen = settings.RememberLastScreen;
                SelectedTheme = settings.Theme;

                HasChanges = false;
                StatusMessage = string.Empty;
            }
            catch (Exception ex)
            {
                StatusMessage = $"L·ªói t·∫£i c·∫•u h√¨nh: {ex.Message}";
            }
        }

        // ===== SAVE SETTINGS =====
        private async Task SaveSettingsAsync()
        {
            try
            {
                var settings = new AppSettings
                {
                    ItemsPerPage = SelectedPageSize,
                    RememberLastScreen = RememberLastScreen,
                    Theme = SelectedTheme
                };

                await _storageService.SaveAppSettingsAsync(settings);

                // ‚≠ê √ÅP D·ª§NG THEME NGAY L·∫¨P T·ª®C
                ApplyTheme(SelectedTheme);

                _originalSettings = settings;
                HasChanges = false;
                StatusMessage = "‚úÖ ƒê√£ l∆∞u c·∫•u h√¨nh th√†nh c√¥ng!";

                await Task.Delay(2000);
                StatusMessage = string.Empty;
            }
            catch (Exception ex)
            {
                StatusMessage = $"‚ùå L·ªói l∆∞u c·∫•u h√¨nh: {ex.Message}";
            }
        }

        // ===== RESET SETTINGS =====
        private async Task ResetSettingsAsync()
        {
            try
            {
                await _storageService.ResetAppSettingsAsync();
                await LoadSettingsAsync();

                // ‚≠ê √ÅP D·ª§NG THEME M·∫∂C ƒê·ªäNH
                ApplyTheme(SelectedTheme);

                StatusMessage = "‚úÖ ƒê√£ kh√¥i ph·ª•c c·∫•u h√¨nh m·∫∑c ƒë·ªãnh!";
                await Task.Delay(2000);
                StatusMessage = string.Empty;
            }
            catch (Exception ex)
            {
                StatusMessage = $"‚ùå L·ªói reset c·∫•u h√¨nh: {ex.Message}";
            }
        }

        // ===== CANCEL CHANGES =====
        private void CancelChanges()
        {
            SelectedPageSize = _originalSettings.ItemsPerPage;
            RememberLastScreen = _originalSettings.RememberLastScreen;
            SelectedTheme = _originalSettings.Theme;

            HasChanges = false;
            StatusMessage = "ƒê√£ h·ªßy thay ƒë·ªïi";
        }

        // ===== PROPERTY CHANGED HANDLERS =====
        partial void OnSelectedPageSizeChanged(int value)
        {
            CheckForChanges();
        }

        partial void OnRememberLastScreenChanged(bool value)
        {
            CheckForChanges();
        }

        partial void OnSelectedThemeChanged(string value)
        {
            CheckForChanges();
        }

        private void CheckForChanges()
        {
            HasChanges = SelectedPageSize != _originalSettings.ItemsPerPage
                      || RememberLastScreen != _originalSettings.RememberLastScreen
                      || SelectedTheme != _originalSettings.Theme;
        }

        // ‚≠ê‚≠ê‚≠ê H√ÄM √ÅP D·ª§NG THEME - QUAN TR·ªåNG ‚≠ê‚≠ê‚≠ê
        private void ApplyTheme(string theme)
        {
            try
            {
                if (App.MainWindow?.Content is FrameworkElement rootElement)
                {
                    rootElement.RequestedTheme = theme switch
                    {
                        "Dark" => ElementTheme.Dark,
                        "Light" => ElementTheme.Light,
                        _ => ElementTheme.Default
                    };

                    System.Diagnostics.Debug.WriteLine($"‚úÖ Theme applied: {theme}");
                }
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"‚ùå Error applying theme: {ex.Message}");
            }
        }
    }
}
```

### FE\SalesManagement.WinUI\Views\AddProductPage.xaml.cs
```cs
using Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.ViewModels;

// To learn more about WinUI, the WinUI project structure,
// and more about our project templates, see: http://aka.ms/winui-project-info.

namespace SalesManagement.WinUI.Views;

/// <summary>
/// An empty page that can be used on its own or navigated to within a Frame.
/// </summary>
public sealed partial class AddProductPage : Page
{
    private readonly INavigationService _navigationService;
    public AddProductPage()
    {
        this.InitializeComponent();
        DataContext = App.Services.GetService<AddProductViewModel>();
        _navigationService = App.Services.GetRequiredService<INavigationService>();
    }

    private void BackButton_Click(object sender, RoutedEventArgs e)
    {
        //var nav = App.Services.GetService<INavigationService>();
        //nav?.GoBack();
        _navigationService.GoBack();
    }

}

```

### FE\SalesManagement.WinUI\Views\CustomerPage.xaml.cs
```cs
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Controls.Primitives;
using Microsoft.UI.Xaml.Data;
using Microsoft.UI.Xaml.Input;
using Microsoft.UI.Xaml.Media;
using Microsoft.UI.Xaml.Navigation;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Runtime.InteropServices.WindowsRuntime;
using Windows.Foundation;
using Windows.Foundation.Collections;

// To learn more about WinUI, the WinUI project structure,
// and more about our project templates, see: http://aka.ms/winui-project-info.

namespace SalesManagement.WinUI.Views
{
    /// <summary>
    /// An empty page that can be used on its own or navigated to within a Frame.
    /// </summary>
    public sealed partial class CustomerPage : Page
    {
        public CustomerPage()
        {
            InitializeComponent();
        }
    }
}

```

### FE\SalesManagement.WinUI\Views\DashboardPage.xaml.cs
```cs
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Services;
using SalesManagement.WinUI.Services.Implementations;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;
using SalesManagement.WinUI.Views;

namespace SalesManagement.WinUI.Views
{
    public sealed partial class DashboardPage : Page
    {
        private readonly DashboardViewModel _viewModel;

        public DashboardPage()
        {
            this.InitializeComponent();

            // Use App's DI container instead of manual instantiation
            _viewModel = App.Services.GetService<DashboardViewModel>()!;
            this.DataContext = _viewModel;

            // Hook Loaded event to ensure page is ready before loading data
            this.Loaded += DashboardPage_Loaded;
        }

        private async void DashboardPage_Loaded(object sender, RoutedEventArgs e)
        {
            // First ensure we have authentication
            var authService = App.Services.GetService<IAuthService>()!;

            if (!authService.IsAuthenticated())
            {
                System.Diagnostics.Debug.WriteLine("? User not authenticated, redirecting to login...");
                var navigationService = App.Services.GetService<INavigationService>()!;
                navigationService.NavigateTo(typeof(LoginPage));
                return;
            }

            System.Diagnostics.Debug.WriteLine("? User authenticated, loading dashboard...");

            // Now load the dashboard data
            await _viewModel.LoadDashboardData();
        }

        private async void RefreshButton_Click(object sender, RoutedEventArgs e)
        {
            await _viewModel.RefreshDashboard();
        }
        
        public void ButtonEvent()
        {           
            // To do
        }
    }
}
```

### FE\SalesManagement.WinUI\Views\DetailItemPage.xaml.cs
```cs
Ôªøusing Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Media.Imaging;
using Microsoft.UI.Xaml.Navigation;
using Microsoft.Windows.Storage.Pickers;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;
using System.Diagnostics;
using Windows.Storage;


namespace SalesManagement.WinUI.Views
{
    public sealed partial class DetailItemPage : Page
    {
        public Product Product { get; private set; }
        public DetailItemViewModel ViewModel { get; private set; }
        private readonly INavigationService _navigationService;
        public DetailItemPage()
        {
            this.InitializeComponent();
            _navigationService = App.Services.GetRequiredService<INavigationService>();
        }

        protected override void OnNavigatedTo(NavigationEventArgs e)
        {
            base.OnNavigatedTo(e);

            if (e.Parameter is Product product)
            {
                Product = product;
                Debug.WriteLine("Danh m·ª•c: " + Product.Category?.CategoryName);
                DataContext = Product;
            }
        }

        private void Back_Click(object sender, RoutedEventArgs e)
        {
            if (Frame.CanGoBack)
                Frame.GoBack();
        }

        private async void Delete_Click(object sender, RoutedEventArgs e)
        {
            if (Product == null)
                return;

            var dialog = new ContentDialog
            {
                Title = "X√°c nh·∫≠n x√≥a",
                Content = $"B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m \"{Product.ProductName}\" (ID: {Product.ProductId}) kh√¥ng?",
                PrimaryButtonText = "X√≥a",
                CloseButtonText = "H·ªßy",
                DefaultButton = ContentDialogButton.Close,
                XamlRoot = this.XamlRoot
            };

            var result = await dialog.ShowAsync();
            if (result == ContentDialogResult.Primary)
            {
                // L·∫•y service t·ª´ App.Services
                var productService = App.Services.GetService<IProductService>();
                if (productService == null)
                    return;

                Debug.WriteLine("ID c·∫ßn x√≥a" + Product.ProductId);

                var success = await productService.DeleteProductAsync(Product.ProductId);

                if (success)
                {
                    var successDialog = new ContentDialog
                    {
                        Title = "Th√†nh c√¥ng",
                        Content = $"ƒê√£ x√≥a s·∫£n ph·∫©m ID {Product.ProductId}.",
                        CloseButtonText = "OK",
                        XamlRoot = this.XamlRoot
                    };
                    await successDialog.ShowAsync();

                    if (Frame.CanGoBack)
                        Frame.GoBack();
                }
                else
                {
                    var failDialog = new ContentDialog
                    {
                        Title = "L·ªói",
                        Content = "Kh√¥ng th·ªÉ x√≥a s·∫£n ph·∫©m.",
                        CloseButtonText = "ƒê√≥ng",
                        XamlRoot = this.XamlRoot
                    };
                    await failDialog.ShowAsync();
                }
            }
        }


        private void Update_Click(object sender, RoutedEventArgs e)
        {
            if (Product != null)
            {
                _navigationService.NavigateTo(typeof(UpdateProductPage), Product);

            }
        }

        private async void ChangeImage_Click(object sender, RoutedEventArgs e)
        {
            try
            {
                // üîπ T·∫°o FileOpenPicker t∆∞∆°ng th√≠ch WinUI 3
                var hwnd = WinRT.Interop.WindowNative.GetWindowHandle(App.MainWindow);
                var picker = new FileOpenPicker(windowId: Microsoft.UI.Win32Interop.GetWindowIdFromWindow(hwnd))
                {
                    SuggestedStartLocation = PickerLocationId.PicturesLibrary,
                    ViewMode = PickerViewMode.Thumbnail
                };

                picker.FileTypeFilter.Add(".jpg");
                picker.FileTypeFilter.Add(".jpeg");
                picker.FileTypeFilter.Add(".png");

                // ‚ö†Ô∏è WinAppSDK 1.5+: tr·∫£ v·ªÅ PickFileResult, kh√¥ng ph·∫£i StorageFile
                var pickResult = await picker.PickSingleFileAsync();
                if (pickResult == null)
                    return;

                // ‚úÖ L·∫•y StorageFile t·ª´ PickFileResult
                var file = await StorageFile.GetFileFromPathAsync(pickResult.Path);

                // ‚úÖ Hi·ªÉn th·ªã ·∫£nh xem tr∆∞·ªõc
                using (var stream = await file.OpenAsync(FileAccessMode.Read))
                {
                    var bitmap = new BitmapImage();
                    await bitmap.SetSourceAsync(stream);

                    if (FindName("ProductImage") is Image imageControl)
                    {
                        imageControl.Source = bitmap;
                    }
                }

                // ‚úÖ G·ªçi API upload multipart/form-data
                var productService = App.Services.GetService<IProductService>();
                if (productService != null && Product != null)
                {
                    bool success = await productService.UploadImageAsync(Product.ProductId, file);

                    var dialog = new ContentDialog
                    {
                        Title = success ? "Th√†nh c√¥ng" : "L·ªói",
                        Content = success
                            ? "·∫¢nh s·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t."
                            : "Kh√¥ng th·ªÉ upload ·∫£nh.",
                        CloseButtonText = "OK",
                        XamlRoot = this.XamlRoot
                    };
                    await dialog.ShowAsync();
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"ChangeImage_Click error: {ex.Message}");
            }
        }



    }
}

```

### FE\SalesManagement.WinUI\Views\LoginPage.xaml.cs
```cs
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Input;
using SalesManagement.WinUI.ViewModels;
using System.Threading.Tasks;
using Windows.System;

namespace SalesManagement.WinUI.Views;

public sealed partial class LoginPage : Page
{
    public LoginViewModel ViewModel { get; }

    public LoginPage()
    {
        InitializeComponent();

        // Get ViewModel from DI
        ViewModel = App.Services.GetService<LoginViewModel>()!;

        // Subscribe to login completed event
        ViewModel.LoginCompleted += OnLoginCompleted;

        // Try auto login
        _ = TryAutoLoginAsync();
    }

    private async Task TryAutoLoginAsync()
    {
        await ViewModel.TryAutoLoginAsync();
    }

    private void OnLoginCompleted(object? sender, bool success)
    {
        if (success)
        {
            // Navigate to main page
            NavigateToMainPage();
        }
    }

    private void NavigateToMainPage()
    {
        // Get the current frame from the window
        if (App.MainWindow.Content is Frame rootFrame)
        {
            rootFrame.Navigate(typeof(MainPage));
        }
    }

    private void OnTextBoxKeyDown(object sender, KeyRoutedEventArgs e)
    {
        if (e.Key == VirtualKey.Enter)
        {
            // Move focus to password
            PasswordBox.Focus(FocusState.Programmatic);
        }
    }

    private async void OnPasswordBoxKeyDown(object sender, KeyRoutedEventArgs e)
    {
        if (e.Key == VirtualKey.Enter)
        {
            // Execute login command
            if (ViewModel.LoginCommand.CanExecute(null))
            {
                await ViewModel.LoginCommand.ExecuteAsync(null);
            }
        }
    }
}
```

### FE\SalesManagement.WinUI\Views\MainPage.xaml.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Services;

using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;

namespace SalesManagement.WinUI.Views;

public sealed partial class MainPage : Page
{
    public MainViewModel ViewModel { get; }


    public MainPage()
    {
     
        ViewModel = App.Services.GetService<MainViewModel>()!;


        this.InitializeComponent();

       
        var navService = App.Services.GetService<INavigationService>() as NavigationService;
        navService?.SetFrame(ContentFrame);
        navService?.SetNavView(NavView);

        
    }

    private void NavView_Loaded(object sender, RoutedEventArgs e)
    {

        if (this.XamlRoot != null)
        {
            var loadingService = App.Services.GetService<ILoadingService>();
            loadingService?.SetXamlRoot(this.XamlRoot);
        }


        if (ViewModel.SelectedMenuItem != null && ViewModel.SelectedMenuItem.PageType != null)
        {
            ContentFrame.Navigate(ViewModel.SelectedMenuItem.PageType);
            NavView.Header = ViewModel.SelectedMenuItem.Title;
        }
    }


}
```

### FE\SalesManagement.WinUI\Views\OrderPage.xaml.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Input;
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;
using SalesManagement.WinUI.Views.Components;
using System;
using System.Threading.Tasks;




namespace SalesManagement.WinUI.Views
{
    public sealed partial class OrderPage : Page
    {

        public OrderViewModel ViewModel { get; }

        public OrderPage()
        {
            ViewModel = App.Services.GetService<OrderViewModel>()!;
            this.InitializeComponent();

            var dialogService = App.Services.GetService<IDialogService>();

            this.Loaded += (s, e) =>
            {
                if (this.XamlRoot != null)
                {
                    dialogService?.SetXamlRoot(this.XamlRoot);
                }
            };

            // Quan tr·ªçng: Ch·ªâ ƒë·ªÉ DataContext n·∫øu d√πng Binding {Binding}
            // N·∫øu d√πng {x:Bind} th√¨ ViewModel property ·ªü tr√™n l√† ƒë·ªß.
            this.DataContext = ViewModel;
        }



        // Event handlers cho c√°c button Edit/Delete
        private async void EditButton_Click(object sender, RoutedEventArgs e)
        {
            System.Diagnostics.Debug.WriteLine("EditButton_Click ƒë∆∞·ª£c g·ªçi");
            
            // NgƒÉn ch·∫∑n SelectionChanged
            OrderGrid.SelectionChanged -= OrderGrid_SelectionChanged;
            
            var button = sender as Button;
            if (button?.Tag is OrderItemViewModel item)
            {
                await ViewModel.EditOrderCommand.ExecuteAsync(item);
            }
            
            // B·∫≠t l·∫°i sau khi xong
            OrderGrid.SelectionChanged += OrderGrid_SelectionChanged;
        }

        private async void DeleteButton_Click(object sender, RoutedEventArgs e)
        {
            System.Diagnostics.Debug.WriteLine("DeleteButton_Click ƒë∆∞·ª£c g·ªçi");
            
            // NgƒÉn ch·∫∑n SelectionChanged
            OrderGrid.SelectionChanged -= OrderGrid_SelectionChanged;
            
            var button = sender as Button;
            if (button?.Tag is OrderItemViewModel item)
            {
                await ViewModel.DeleteOrderCommand.ExecuteAsync(item);
            }
            
            // B·∫≠t l·∫°i sau khi xong
            OrderGrid.SelectionChanged += OrderGrid_SelectionChanged;
        }

        private void OrderGrid_SelectionChanged(object sender, SelectionChangedEventArgs e)
        {
            // Ch·ªâ x·ª≠ l√Ω khi c√≥ item ƒë∆∞·ª£c ch·ªçn
            if (OrderGrid.SelectedItem is OrderItemViewModel selectedItem)
            {
                System.Diagnostics.Debug.WriteLine($"OrderGrid_SelectionChanged: {selectedItem.OrderId}");
                ViewModel.SelectedOrder = selectedItem;
            }
        }

        
    }
}
```

### FE\SalesManagement.WinUI\Views\ProductPage.xaml.cs
```cs
Ôªøusing Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.ViewModels;


// To learn more about WinUI, the WinUI project structure,
// and more about our project templates, see: http://aka.ms/winui-project-info.

namespace SalesManagement.WinUI.Views
{
    public sealed partial class ProductPage : Page
    {
        private readonly INavigationService _navigationService;
        public ProductPage()
        {
            InitializeComponent();
            DataContext = App.Services.GetService<ProductViewModel>();

            // ‚≠ê D√íNG QUAN TR·ªåNG B·ªä THI·∫æU
            _navigationService = App.Services.GetRequiredService<INavigationService>();
        }


        private void ProductList_ItemClick(object sender, ItemClickEventArgs e)
        {
            if (e.ClickedItem is Product product)
            {
                _navigationService.NavigateTo(typeof(DetailItemPage), product);
            }
        }

    }
}
```

### FE\SalesManagement.WinUI\Views\ReportPage.xaml.cs
```cs
Ôªøusing Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.ViewModels;

namespace SalesManagement.WinUI.Views
{
    public sealed partial class ReportPage : Page
    {
        public ReportViewModel ViewModel { get; }

        public ReportPage()
        {
            InitializeComponent();
            ViewModel = App.Services.GetRequiredService<ReportViewModel>();
            DataContext = ViewModel;
            Loaded += ReportPage_Loaded;
        }

        private async void ReportPage_Loaded(object sender, RoutedEventArgs e)
        {
            // T·ª± ƒë·ªông load khi v√†o trang v·ªõi ng√†y m·∫∑c ƒë·ªãnh (nƒÉm hi·ªán t·∫°i)
            await ViewModel.LoadReportAsync();
        }

        private async void OnLoadClick(object sender, RoutedEventArgs e)
        {
            await ViewModel.LoadReportAsync();
        }
    }
}
```

### FE\SalesManagement.WinUI\Views\RevenueChart.xaml.cs
```cs
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Media;
using Microsoft.UI.Xaml.Shapes;
using SalesManagement.WinUI.Models;
using System;
using System.Collections.Generic;
using System.Linq;

namespace SalesManagement.WinUI.Views
{
    public sealed partial class RevenueChart : UserControl
    {
        private List<DailyRevenueResponse> _dataSource;

        public RevenueChart()
        {
            this.InitializeComponent();
            this.Loaded += RevenueChart_Loaded;
        }

        public static readonly DependencyProperty DataSourceProperty =
            DependencyProperty.Register(
                nameof(DataSource),
                typeof(List<DailyRevenueResponse>),
                typeof(RevenueChart),
                new PropertyMetadata(null, OnDataSourceChanged));

        public List<DailyRevenueResponse> DataSource
        {
            get => (List<DailyRevenueResponse>)GetValue(DataSourceProperty);
            set => SetValue(DataSourceProperty, value);
        }

        private static void OnDataSourceChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
        {
            if (d is RevenueChart chart)
            {
                chart._dataSource = (List<DailyRevenueResponse>)e.NewValue;
                chart.DrawChart();
            }
        }

        private void RevenueChart_Loaded(object sender, RoutedEventArgs e)
        {
            DrawChart();
        }

        private void DrawChart()
        {
            if (_dataSource == null || _dataSource.Count == 0)
            {
                DrawEmptyChart();
                return;
            }

            DrawingCanvas.Children.Clear();

            var width = DrawingCanvas.ActualWidth > 0 ? DrawingCanvas.ActualWidth : 800;
            var height = DrawingCanvas.ActualHeight > 0 ? DrawingCanvas.ActualHeight : 350;

            // ?? v?n gi? 30 ngy g?n nh?t
            var data = _dataSource
                .OrderBy(d => d.Date)
                .TakeLast(30)
                .ToList();

            var maxRevenue = data.Max(d => d.Revenue);
            if (maxRevenue == 0)
            {
                DrawEmptyChart();
                return;
            }

            var padding = 60;
            var chartWidth = width - (padding * 2);
            var chartHeight = height - padding - 40;
            var barSpacing = chartWidth / (data.Count + 1);
            var barWidth = Math.Min(barSpacing * 0.7, 25);

            // Y-axis
            DrawingCanvas.Children.Add(new Line
            {
                X1 = padding,
                Y1 = padding,
                X2 = padding,
                Y2 = height - 40,
                Stroke = new SolidColorBrush(Windows.UI.Color.FromArgb(100, 200, 200, 200)),
                StrokeThickness = 2
            });

            // X-axis
            DrawingCanvas.Children.Add(new Line
            {
                X1 = padding,
                Y1 = height - 40,
                X2 = width - padding,
                Y2 = height - 40,
                Stroke = new SolidColorBrush(Windows.UI.Color.FromArgb(100, 200, 200, 200)),
                StrokeThickness = 2
            });

            DrawYAxisLabels(padding, height, maxRevenue, chartHeight);

            // Bars + labels
            for (int i = 0; i < data.Count; i++)
            {
                var item = data[i];

                var barHeight = (item.Revenue / maxRevenue) * chartHeight;
                var barX = padding + (barSpacing * (i + 0.5)) - (barWidth / 2);
                var barY = (height - 40) - barHeight;

                // Bar
                var rect = new Rectangle
                {
                    Width = barWidth,
                    Height = barHeight,
                    Fill = new SolidColorBrush(Windows.UI.Color.FromArgb(255, 0, 120, 212)),
                    RadiusX = 4,
                    RadiusY = 4
                };
                Canvas.SetLeft(rect, barX);
                Canvas.SetTop(rect, barY);
                DrawingCanvas.Children.Add(rect);

                // Value on bar (gi? nh? c?)
                if (i % Math.Max(1, data.Count / 10) == 0)
                {
                    var valueText = new TextBlock
                    {
                        Text = $"${item.Revenue:F0}",
                        FontSize = 10,
                        Foreground = new SolidColorBrush(
                            Windows.UI.Color.FromArgb(200, 0, 0, 0)),
                        TextAlignment = TextAlignment.Center
                    };

                    Canvas.SetLeft(valueText, barX - 15);
                    Canvas.SetTop(valueText, barY - 20);
                    DrawingCanvas.Children.Add(valueText);
                }

                // ? DATE LABEL  HI?N ?? T?T C? NGY (XOAY 45 ??)
                var dateBlock = new TextBlock
                {
                    Text = FormatDate(item.Date),
                    FontSize = 9,
                    Foreground = new SolidColorBrush(
                        Windows.UI.Color.FromArgb(150, 100, 100, 100)),
                    RenderTransform = new RotateTransform
                    {
                        Angle = -45
                    },
                    RenderTransformOrigin = new Windows.Foundation.Point(0, 0.5)
                };

                Canvas.SetLeft(dateBlock, barX - 5);
                Canvas.SetTop(dateBlock, height - 20);
                DrawingCanvas.Children.Add(dateBlock);
            }
        }

        private void DrawYAxisLabels(double padding, double height, double maxRevenue, double chartHeight)
        {
            var steps = 5;
            for (int i = 0; i <= steps; i++)
            {
                var value = maxRevenue * i / steps;
                var yPos = (height - 40) - (chartHeight * i / steps);

                DrawingCanvas.Children.Add(new Line
                {
                    X1 = padding,
                    Y1 = yPos,
                    X2 = DrawingCanvas.ActualWidth - padding,
                    Y2 = yPos,
                    Stroke = new SolidColorBrush(
                        Windows.UI.Color.FromArgb(30, 200, 200, 200)),
                    StrokeThickness = 1
                });

                var label = new TextBlock
                {
                    Text = $"${value:F0}",
                    FontSize = 10,
                    Foreground = new SolidColorBrush(
                        Windows.UI.Color.FromArgb(150, 100, 100, 100))
                };

                Canvas.SetLeft(label, 5);
                Canvas.SetTop(label, yPos - 8);
                DrawingCanvas.Children.Add(label);
            }
        }

        private void DrawEmptyChart()
        {
            DrawingCanvas.Children.Clear();

            var textBlock = new TextBlock
            {
                Text = "Ch?a c d? li?u doanh thu",
                FontSize = 16,
                Foreground = new SolidColorBrush(
                    Windows.UI.Color.FromArgb(150, 150, 150, 150)),
                TextAlignment = TextAlignment.Center
            };

            Canvas.SetLeft(textBlock, DrawingCanvas.ActualWidth / 2 - 100);
            Canvas.SetTop(textBlock, DrawingCanvas.ActualHeight / 2 - 20);
            DrawingCanvas.Children.Add(textBlock);
        }

        private string FormatDate(string dateString)
        {
            if (DateTime.TryParse(dateString, out var date))
            {
                return date.ToString("MM-dd");
            }
            return dateString;
        }
    }
}

```

### FE\SalesManagement.WinUI\Views\SettingsPage.xaml.cs
```cs
Ôªøusing Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Controls.Primitives;
using Microsoft.UI.Xaml.Data;
using Microsoft.UI.Xaml.Input;
using Microsoft.UI.Xaml.Media;
using Microsoft.UI.Xaml.Navigation;
using SalesManagement.WinUI.ViewModels;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Runtime.InteropServices.WindowsRuntime;
using Windows.Foundation;
using Windows.Foundation.Collections;

// To learn more about WinUI, the WinUI project structure,
// and more about our project templates, see: http://aka.ms/winui-project-info.

namespace SalesManagement.WinUI.Views
{
    /// <summary>
    /// An empty page that can be used on its own or navigated to within a Frame.
    /// </summary>
    public sealed partial class SettingsPage : Page
    {
        public SettingsViewModel ViewModel { get; }

        public SettingsPage()
        {
            this.InitializeComponent();
            try
            {
                ViewModel = App.Services.GetRequiredService<SettingsViewModel>();
                this.DataContext = ViewModel;
            }
            catch (Exception ex)
            {
                System.Diagnostics.Debug.WriteLine($"‚ùå L·ªói kh·ªüi t·∫°o SettingsViewModel: {ex.Message}");
                System.Diagnostics.Debug.WriteLine($"‚ùå Stack Trace: {ex.StackTrace}");
                throw;
            }
        }
    }
}

```

### FE\SalesManagement.WinUI\Views\UpdateProductPage.xaml.cs
```cs
Ôªøusing Microsoft.Extensions.DependencyInjection;
using Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.UI.Xaml.Navigation;
using SalesManagement.WinUI.Models;
using SalesManagement.WinUI.Services.Interfaces;
using System.Diagnostics;

namespace SalesManagement.WinUI.Views
{
    public sealed partial class UpdateProductPage : Page
    {
        public Product Product { get; private set; }
        private readonly INavigationService _navigationService;
        public UpdateProductPage()
        {
            this.InitializeComponent();
            _navigationService = App.Services.GetRequiredService<INavigationService>();
        }

        protected override void OnNavigatedTo(NavigationEventArgs e)
        {
            base.OnNavigatedTo(e);

            if (e.Parameter is Product product)
            {
                // G√°n d·ªØ li·ªáu ƒë·ªÉ binding 2 chi·ªÅu
                Product = product;
                var priceType = Product.PriceValue.GetType();

                Debug.WriteLine(Product.StockQuantity);
                Debug.WriteLine("Ki·ªÉu d·ªØ li·ªáu: " + priceType);

                DataContext = Product;
            }
        }

        private void Back_Click(object sender, RoutedEventArgs e)
        {
            if (Frame.CanGoBack)
                Frame.GoBack();
        }

        private async void Save_Click(object sender, RoutedEventArgs e)
        {
            if (Product == null)
                return;

            var productService = App.Services.GetService<IProductService>();
            if (productService == null)
                return;

            var dialog = new ContentDialog
            {
                XamlRoot = this.XamlRoot,
                PrimaryButtonText = "OK"
            };

            try
            {
                var success = await productService.UpdateProductAsync(Product.ProductId, Product);

                if (success)
                {
                    dialog.Title = "Th√†nh c√¥ng";
                    dialog.Content = "S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng.";

                    // Sai khi b·∫•m oke dialog xong th√¨ tr·ªü v·ªÅ trang danh s√°ch
                    dialog.PrimaryButtonClick += (s, args) =>
                    {
                        _navigationService.NavigateTo(typeof(ProductPage));
                    };
                }
                else
                {
                    dialog.Title = "Th·∫•t b·∫°i";
                    dialog.Content = "Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t s·∫£n ph·∫©m. Vui l√≤ng th·ª≠ l·∫°i.";
                }
            }
            catch (Exception ex)
            {
                Debug.WriteLine($"Update error: {ex.Message}");
                dialog.Title = "L·ªói";
                dialog.Content = "ƒê√£ x·∫£y ra l·ªói khi c·∫≠p nh·∫≠t s·∫£n ph·∫©m.";
            }

            await dialog.ShowAsync();
        }

    }
}

```

### FE\SalesManagement.WinUI\Views\Components\CreateOrderDialog.xaml.cs
```cs
Ôªøusing Microsoft.UI.Xaml;
using Microsoft.UI.Xaml.Controls;
using Microsoft.Extensions.DependencyInjection; // C·∫ßn namespace n√†y ƒë·ªÉ d√πng GetService<T>
using SalesManagement.WinUI.Services.Interfaces;
using SalesManagement.WinUI.ViewModels;
using System;

namespace SalesManagement.WinUI.Views.Components
{
    public sealed partial class CreateOrderDialog : ContentDialog
    {
        public CreateOrderViewModel ViewModel { get; set; } = default!;

        public CreateOrderDialog( )
        {
            this.InitializeComponent();

            // 1. L·∫•y c√°c service t·ª´ DI Container (App.Services)
            var orderService = App.Services.GetRequiredService<IOrderService>();
            var productService = App.Services.GetRequiredService<IProductService>();
            var promotionService = App.Services.GetRequiredService<IPromotionService>();

           
        }

        private async void ContentDialog_PrimaryButtonClick(ContentDialog sender, ContentDialogButtonClickEventArgs args)
        {
            var deferral = args.GetDeferral();
            args.Cancel = true; // M·∫∑c ƒë·ªãnh gi·ªØ dialog m·ªü ƒë·ªÉ ƒë·ª£i x·ª≠ l√Ω async

            try
            {
                bool success = await ViewModel.CreateOrderAsync();
                if (success)
                {
                    args.Cancel = false; // Cho ph√©p ƒë√≥ng dialog n·∫øu th√†nh c√¥ng
                }
                else
                {
                    // X·ª≠ l√Ω khi l·ªói (v√≠ d·ª• hi·ªán th√¥ng b√°o ƒë·ªè d∆∞·ªõi footer)
                    // Hi·ªán t·∫°i gi·ªØ dialog m·ªü ƒë·ªÉ user s·ª≠a l·∫°i
                }
            }
            catch (Exception ex)
            {
                // Log l·ªói n·∫øu c·∫ßn
                System.Diagnostics.Debug.WriteLine($"L·ªói t·∫°o ƒë∆°n: {ex.Message}");
            }
            finally
            {
                deferral.Complete();
            }
        }
    }
}
```

### FE\SalesManagement.WinUI\Views\Components\LoadingDialog.xaml.cs
```cs
Ôªøusing Microsoft.UI.Xaml.Controls;

namespace SalesManagement.WinUI.Views.Components;

public sealed partial class LoadingDialog : ContentDialog
{
    // Bi·∫øn ƒë·ªÉ h·ª©ng n·ªôi dung th√¥ng b√°o
    public string Message { get; set; }

    public LoadingDialog(string message = "ƒêang x·ª≠ l√Ω...")
    {
        this.InitializeComponent();
        this.Message = message;
    }
}
```

### FE\SalesManagement.WinUI\Views\Components\OrderDetailDialog.xaml.cs
```cs
using Microsoft.UI.Xaml.Controls; // Quan tr?ng: ContentDialog n?m ? ?y
using SalesManagement.WinUI.ViewModels;

namespace SalesManagement.WinUI.Views
{
   
    public sealed partial class OrderDetailDialog : ContentDialog
    {
        public OrderItemViewModel OrderVM { get; }

        public OrderDetailDialog(OrderItemViewModel orderVM)
        {
            this.InitializeComponent();
            OrderVM = orderVM;
        }
    }
}
```

### FE\SalesManagement.WinUI\Views\Components\OrderEditDialog.xaml.cs
```cs
Ôªøusing Microsoft.UI.Xaml.Controls;
using SalesManagement.WinUI.Services.Interfaces; // ƒê·∫£m b·∫£o import Service
using SalesManagement.WinUI.ViewModels;
using System;

// Namespace thay ƒë·ªïi th√™m .Components
namespace SalesManagement.WinUI.Views.Components
{
    public sealed partial class OrderEditDialog : ContentDialog
    {
        public OrderItemViewModel ViewModel { get; }

        public double TempAmount { get; set; }
        public string TempStatus { get; set; }
        public DateTimeOffset TempDate { get; set; }
        public OrderEditDialog(OrderItemViewModel viewModel)
        {
            this.InitializeComponent();
            ViewModel = viewModel;
            TempAmount = viewModel.AmountDouble;
            TempStatus = viewModel.Status;
            TempDate = viewModel.DateOffset;
        }

        // X·ª≠ l√Ω khi b·∫•m n√∫t "L∆∞u thay ƒë·ªïi"
        private async void ContentDialog_PrimaryButtonClick(ContentDialog sender, ContentDialogButtonClickEventArgs args)
        {
            var deferral = args.GetDeferral();
            args.Cancel = true; // Gi·ªØ dialog m·ªü ƒë·ªÉ x·ª≠ l√Ω
            ErrorBar.IsOpen = false;

            try
            {
                // G·ªåI H√ÄM SAVE C·ª¶A VIEWMODEL (Kh√¥ng g·ªçi Service tr·ª±c ti·∫øp)
                // Truy·ªÅn c√°c gi√° tr·ªã t·∫°m v√†o ƒë·ªÉ VM c·∫≠p nh·∫≠t
                bool success = await ViewModel.SaveAsync(TempAmount, TempStatus, TempDate);

                if (success)
                {
                    args.Cancel = false; // ƒê√≥ng dialog
                }
                else
                {
                    ErrorBar.Message = "Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t. Vui l√≤ng th·ª≠ l·∫°i.";
                    ErrorBar.IsOpen = true;
                }
            }
            catch (Exception ex)
            {
                ErrorBar.Message = ex.Message;
                ErrorBar.IsOpen = true;
            }
            finally
            {
                deferral.Complete();
            }
        }
    }
}
```
